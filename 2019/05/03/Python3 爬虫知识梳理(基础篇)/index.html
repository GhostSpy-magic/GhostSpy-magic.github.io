<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python3 爬虫知识梳理(基础篇) | K0rz3n's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python3 爬虫知识梳理(基础篇)</h1><a id="logo" href="/.">K0rz3n's Blog</a><p class="description">Shell-is-Only-the-Beginning</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python3 爬虫知识梳理(基础篇)</h1><div class="post-meta">May 3, 2019<span> | </span><span class="category"><a href="/categories/备忘/">备忘</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Inhalte</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0X01-常用的-python-库"><span class="toc-number">1.</span> <span class="toc-text">0X01 常用的 python 库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-urllib"><span class="toc-number">1.1.</span> <span class="toc-text">1.urllib</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-re"><span class="toc-number">1.2.</span> <span class="toc-text">2.re</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-requests"><span class="toc-number">1.3.</span> <span class="toc-text">3.requests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-selenimu"><span class="toc-number">1.4.</span> <span class="toc-text">4.selenimu</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-chromedriver"><span class="toc-number">1.4.1.</span> <span class="toc-text">(1)chromedriver</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-phantomJS"><span class="toc-number">1.4.2.</span> <span class="toc-text">(2)phantomJS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-lxml"><span class="toc-number">1.5.</span> <span class="toc-text">5.lxml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-beautifulsoup"><span class="toc-number">1.6.</span> <span class="toc-text">6.beautifulsoup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-pyquery"><span class="toc-number">1.7.</span> <span class="toc-text">7.pyquery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-pymysql"><span class="toc-number">1.8.</span> <span class="toc-text">8.pymysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-pymango"><span class="toc-number">1.9.</span> <span class="toc-text">9.pymango</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-redis"><span class="toc-number">1.10.</span> <span class="toc-text">10.redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-flask"><span class="toc-number">1.11.</span> <span class="toc-text">11.flask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-django"><span class="toc-number">1.12.</span> <span class="toc-text">12.django</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-jupyter"><span class="toc-number">1.13.</span> <span class="toc-text">13.jupyter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X02-基础部分"><span class="toc-number">2.</span> <span class="toc-text">0X02 基础部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-爬虫基本原理"><span class="toc-number">2.1.</span> <span class="toc-text">1.爬虫基本原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-爬虫是什么"><span class="toc-number">2.1.1.</span> <span class="toc-text">(1)爬虫是什么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-爬虫的基本流程"><span class="toc-number">2.1.2.</span> <span class="toc-text">(2)爬虫的基本流程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-发起请求："><span class="toc-number">2.1.2.1.</span> <span class="toc-text">1.发起请求：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-获取响应内容"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">2.获取响应内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-解析内容"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">3.解析内容</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-保存数据"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">4.保存数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-请求的基本元素"><span class="toc-number">2.1.3.</span> <span class="toc-text">(3)请求的基本元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-请响应的基本元素"><span class="toc-number">2.1.4.</span> <span class="toc-text">(4)请响应的基本元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-实例代码："><span class="toc-number">2.1.5.</span> <span class="toc-text">(5)实例代码：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-请求网页数据"><span class="toc-number">2.1.5.1.</span> <span class="toc-text">1.请求网页数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-请求二进制数据"><span class="toc-number">2.1.5.2.</span> <span class="toc-text">2.请求二进制数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-解析方式"><span class="toc-number">2.1.6.</span> <span class="toc-text">(6)解析方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-response-的结果为什么和浏览器中的看到的不同"><span class="toc-number">2.1.7.</span> <span class="toc-text">(7)response 的结果为什么和浏览器中的看到的不同</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-如何解决-JS-渲染的问题"><span class="toc-number">2.1.8.</span> <span class="toc-text">(8)如何解决 JS 渲染的问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-如何存储数据"><span class="toc-number">2.1.9.</span> <span class="toc-text">(9)如何存储数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X03-Urllib-库"><span class="toc-number">3.</span> <span class="toc-text">0X03 Urllib 库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是-Urllib-库"><span class="toc-number">3.1.</span> <span class="toc-text">1.什么是 Urllib 库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-urllib-库的基本使用"><span class="toc-number">3.2.</span> <span class="toc-text">2.urllib 库的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-函数调用原型"><span class="toc-number">3.2.1.</span> <span class="toc-text">(1)函数调用原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-实例代码一：GET-请求"><span class="toc-number">3.2.2.</span> <span class="toc-text">(2)实例代码一：GET 请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-实例代码二：POST-请求"><span class="toc-number">3.2.3.</span> <span class="toc-text">(3)实例代码二：POST 请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-实例代码三：超时设置"><span class="toc-number">3.2.4.</span> <span class="toc-text">(4)实例代码三：超时设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-实例代码：获取响应状态码、响应头、响应体"><span class="toc-number">3.2.5.</span> <span class="toc-text">(5)实例代码：获取响应状态码、响应头、响应体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-request-对象"><span class="toc-number">3.2.6.</span> <span class="toc-text">(6) request 对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-urllib-库的进阶使用"><span class="toc-number">3.3.</span> <span class="toc-text">3.urllib 库的进阶使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-代理"><span class="toc-number">3.3.1.</span> <span class="toc-text">(1)代理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Cookie"><span class="toc-number">3.3.2.</span> <span class="toc-text">(2)Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-获取-cookies"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">1.获取 cookies</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-将-cookie-保存成文本文件"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">2.将 cookie 保存成文本文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-使用文件中的-cookie"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">3.使用文件中的 cookie</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-异常处理"><span class="toc-number">3.3.3.</span> <span class="toc-text">(3)异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-实例代码一：URLError"><span class="toc-number">3.3.3.1.</span> <span class="toc-text">1.实例代码一：URLError</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-实例代码二：HTTPError"><span class="toc-number">3.3.3.2.</span> <span class="toc-text">2.实例代码二：HTTPError</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-实例代码三：异常类型判断"><span class="toc-number">3.3.3.3.</span> <span class="toc-text">3.实例代码三：异常类型判断</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-URL-解析工具类"><span class="toc-number">3.3.4.</span> <span class="toc-text">(4)URL 解析工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-urlparse"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">1.urlparse</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-urlunparse"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">2.urlunparse</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-urljoin"><span class="toc-number">3.3.4.3.</span> <span class="toc-text">3.urljoin</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-urlencode"><span class="toc-number">3.3.4.4.</span> <span class="toc-text">4.urlencode</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X04-Requests-库"><span class="toc-number">4.</span> <span class="toc-text">0X04 Requests 库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是-requests-库"><span class="toc-number">4.1.</span> <span class="toc-text">1.什么是 requests 库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-requests-库的基本使用"><span class="toc-number">4.2.</span> <span class="toc-text">2.requests 库的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-获取响应信息"><span class="toc-number">4.2.1.</span> <span class="toc-text">(1)获取响应信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-各种请求方法"><span class="toc-number">4.2.2.</span> <span class="toc-text">(2)各种请求方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-带参数的-get-请求"><span class="toc-number">4.2.3.</span> <span class="toc-text">(3)带参数的 get 请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-解析-json"><span class="toc-number">4.2.4.</span> <span class="toc-text">(4)解析 json</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-获取二进制数据"><span class="toc-number">4.2.5.</span> <span class="toc-text">(5)获取二进制数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-添加-headers"><span class="toc-number">4.2.6.</span> <span class="toc-text">(6)添加 headers</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-POST-请求"><span class="toc-number">4.2.7.</span> <span class="toc-text">(7)POST 请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-response-属性"><span class="toc-number">4.2.8.</span> <span class="toc-text">(8) response 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-响应状态码"><span class="toc-number">4.2.9.</span> <span class="toc-text">(9)响应状态码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-requests-库的进阶使用"><span class="toc-number">4.3.</span> <span class="toc-text">3.requests 库的进阶使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-文件上传"><span class="toc-number">4.3.1.</span> <span class="toc-text">(1)文件上传</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-获取-cookies"><span class="toc-number">4.3.2.</span> <span class="toc-text">(2)获取 cookies</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-会话维持"><span class="toc-number">4.3.3.</span> <span class="toc-text">(3)会话维持</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-证书验证"><span class="toc-number">4.3.4.</span> <span class="toc-text">(4)证书验证</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-忽略证书验证"><span class="toc-number">4.3.4.1.</span> <span class="toc-text">1.忽略证书验证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-手动指定本地证书进行验证"><span class="toc-number">4.3.4.2.</span> <span class="toc-text">2.手动指定本地证书进行验证</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-代理设置"><span class="toc-number">4.3.5.</span> <span class="toc-text">(5)代理设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-超时设置"><span class="toc-number">4.3.6.</span> <span class="toc-text">(6)超时设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-Basic-认证"><span class="toc-number">4.3.7.</span> <span class="toc-text">(7)Basic 认证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-异常处理"><span class="toc-number">4.3.8.</span> <span class="toc-text">(8)异常处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X05-正则表达式"><span class="toc-number">5.</span> <span class="toc-text">0X05 正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是正则表达式"><span class="toc-number">5.1.</span> <span class="toc-text">1.什么是正则表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-常见的匹配模式"><span class="toc-number">5.2.</span> <span class="toc-text">2.常见的匹配模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-re-match"><span class="toc-number">5.3.</span> <span class="toc-text">3.re.match</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-常规匹配"><span class="toc-number">5.3.1.</span> <span class="toc-text">(1)常规匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-泛匹配"><span class="toc-number">5.3.2.</span> <span class="toc-text">(2)泛匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-匹配具体内容"><span class="toc-number">5.3.3.</span> <span class="toc-text">(3)匹配具体内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-贪婪与非贪婪模式"><span class="toc-number">5.3.4.</span> <span class="toc-text">(4)贪婪与非贪婪模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-匹配模式"><span class="toc-number">5.3.5.</span> <span class="toc-text">(5)匹配模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-转义字符"><span class="toc-number">5.3.6.</span> <span class="toc-text">(6)转义字符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-re-search"><span class="toc-number">5.4.</span> <span class="toc-text">4.re.search</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#匹配练习："><span class="toc-number">5.4.1.</span> <span class="toc-text">匹配练习：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-re-findall"><span class="toc-number">5.5.</span> <span class="toc-text">5.re.findall</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#匹配练习一："><span class="toc-number">5.5.1.</span> <span class="toc-text">匹配练习一：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#匹配练习二："><span class="toc-number">5.5.2.</span> <span class="toc-text">匹配练习二：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-re-sub"><span class="toc-number">5.6.</span> <span class="toc-text">6.re.sub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-re-compile"><span class="toc-number">5.7.</span> <span class="toc-text">7.re.compile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-实战练习爬取豆瓣读书"><span class="toc-number">5.8.</span> <span class="toc-text">8.实战练习爬取豆瓣读书</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X06-BeautifulSoup"><span class="toc-number">6.</span> <span class="toc-text">0X06 BeautifulSoup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是-BeautifulSoup"><span class="toc-number">6.1.</span> <span class="toc-text">1.什么是 BeautifulSoup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-常见的配合使用的解析库"><span class="toc-number">6.2.</span> <span class="toc-text">2.常见的配合使用的解析库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-基本使用"><span class="toc-number">6.3.</span> <span class="toc-text">3.基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-标签选择器"><span class="toc-number">6.4.</span> <span class="toc-text">4.标签选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-选择元素"><span class="toc-number">6.4.1.</span> <span class="toc-text">(1)选择元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-获取属性"><span class="toc-number">6.4.2.</span> <span class="toc-text">(2)获取属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-获取内容"><span class="toc-number">6.4.3.</span> <span class="toc-text">(3)获取内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-嵌套选择"><span class="toc-number">6.4.4.</span> <span class="toc-text">(4)嵌套选择</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-获取子孙节点"><span class="toc-number">6.4.5.</span> <span class="toc-text">(5)获取子孙节点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-contents"><span class="toc-number">6.4.5.1.</span> <span class="toc-text">1.contents</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-children"><span class="toc-number">6.4.5.2.</span> <span class="toc-text">2.children</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-descendants"><span class="toc-number">6.4.5.3.</span> <span class="toc-text">3.descendants</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-父节点和祖先节点"><span class="toc-number">6.4.6.</span> <span class="toc-text">(6)父节点和祖先节点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-parent"><span class="toc-number">6.4.6.1.</span> <span class="toc-text">1.parent</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-parents"><span class="toc-number">6.4.6.2.</span> <span class="toc-text">2.parents</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-兄弟节点"><span class="toc-number">6.4.7.</span> <span class="toc-text">(7)兄弟节点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-标准选择器"><span class="toc-number">6.5.</span> <span class="toc-text">5.标准选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-name"><span class="toc-number">6.5.1.</span> <span class="toc-text">(1) name</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-attrs"><span class="toc-number">6.5.2.</span> <span class="toc-text">(2)attrs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-text"><span class="toc-number">6.5.3.</span> <span class="toc-text">(3)text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-其他"><span class="toc-number">6.5.4.</span> <span class="toc-text">(4)其他</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-CSS选择器"><span class="toc-number">6.6.</span> <span class="toc-text">6.CSS选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-基本使用"><span class="toc-number">6.6.1.</span> <span class="toc-text">(1)基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-获取属性-1"><span class="toc-number">6.6.2.</span> <span class="toc-text">(2)获取属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-获取内容-1"><span class="toc-number">6.6.3.</span> <span class="toc-text">(3)获取内容</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X07-PyQuery"><span class="toc-number">7.</span> <span class="toc-text">0X07 PyQuery</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-初始化"><span class="toc-number">7.1.</span> <span class="toc-text">1.初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-字符串初始化"><span class="toc-number">7.1.1.</span> <span class="toc-text">(1)字符串初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-URL初始化"><span class="toc-number">7.1.2.</span> <span class="toc-text">(2)URL初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-文件初始化"><span class="toc-number">7.1.3.</span> <span class="toc-text">(3)文件初始化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-基本CSS选择器"><span class="toc-number">7.2.</span> <span class="toc-text">2.基本CSS选择器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-查找元素"><span class="toc-number">7.3.</span> <span class="toc-text">3.查找元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-子元素"><span class="toc-number">7.3.1.</span> <span class="toc-text">(1)子元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-父元素"><span class="toc-number">7.3.2.</span> <span class="toc-text">(2)父元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-兄弟节点"><span class="toc-number">7.3.3.</span> <span class="toc-text">(3)兄弟节点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-遍历"><span class="toc-number">7.4.</span> <span class="toc-text">4.遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-获取信息"><span class="toc-number">7.5.</span> <span class="toc-text">5.获取信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-获取属性"><span class="toc-number">7.5.1.</span> <span class="toc-text">(1)获取属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-获取文本"><span class="toc-number">7.5.2.</span> <span class="toc-text">(2)获取文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-获取-HTML"><span class="toc-number">7.5.3.</span> <span class="toc-text">(3)获取 HTML</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-DOM操作"><span class="toc-number">7.6.</span> <span class="toc-text">6.DOM操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-addClass、removeClass"><span class="toc-number">7.6.1.</span> <span class="toc-text">(1)addClass、removeClass</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-attr、css"><span class="toc-number">7.6.2.</span> <span class="toc-text">(2)attr、css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-remove"><span class="toc-number">7.6.3.</span> <span class="toc-text">(3)remove</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-其他-1"><span class="toc-number">7.6.4.</span> <span class="toc-text">(4)其他</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0X08-Selenium"><span class="toc-number">8.</span> <span class="toc-text">0X08 Selenium</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-基本使用-1"><span class="toc-number">8.1.</span> <span class="toc-text">1.基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-声明对象"><span class="toc-number">8.2.</span> <span class="toc-text">2.声明对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-访问页面"><span class="toc-number">8.3.</span> <span class="toc-text">3.访问页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-查找元素"><span class="toc-number">8.4.</span> <span class="toc-text">4.查找元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-查找单个元素"><span class="toc-number">8.4.1.</span> <span class="toc-text">(1)查找单个元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-查找多个元素"><span class="toc-number">8.4.2.</span> <span class="toc-text">(2)查找多个元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-元素的交互操作"><span class="toc-number">8.4.3.</span> <span class="toc-text">(3)元素的交互操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-交互动作"><span class="toc-number">8.4.4.</span> <span class="toc-text">(4)交互动作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-执行JavaScript"><span class="toc-number">8.4.5.</span> <span class="toc-text">(5)执行JavaScript</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-获取元素信息"><span class="toc-number">8.5.</span> <span class="toc-text">5.获取元素信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-获取属性-1"><span class="toc-number">8.5.1.</span> <span class="toc-text">(1)获取属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-获取文本值"><span class="toc-number">8.5.2.</span> <span class="toc-text">(2)获取文本值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-获取ID、位置、标签名、大小"><span class="toc-number">8.5.3.</span> <span class="toc-text">(3)获取ID、位置、标签名、大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Frame-操作"><span class="toc-number">8.6.</span> <span class="toc-text">6.Frame 操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-等待"><span class="toc-number">8.7.</span> <span class="toc-text">7.等待</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-隐式等待"><span class="toc-number">8.7.1.</span> <span class="toc-text">(1)隐式等待</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-显式等待"><span class="toc-number">8.7.2.</span> <span class="toc-text">(2)显式等待</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-前进后退"><span class="toc-number">8.8.</span> <span class="toc-text">8.前进后退</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Cookies"><span class="toc-number">8.9.</span> <span class="toc-text">9.Cookies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-选项卡操作"><span class="toc-number">8.10.</span> <span class="toc-text">10.选项卡操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-异常处理"><span class="toc-number">8.11.</span> <span class="toc-text">11.异常处理</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="0X01-常用的-python-库"><a href="#0X01-常用的-python-库" class="headerlink" title="0X01 常用的 python 库"></a><strong>0X01 常用的 python 库</strong></h2><h3 id="1-urllib"><a href="#1-urllib" class="headerlink" title="1.urllib"></a><strong>1.urllib</strong></h3><pre><code>import urllib
import urllib.request
urllib.request.urlopen(&quot;http://www.baidu.com&quot;)
</code></pre><h3 id="2-re"><a href="#2-re" class="headerlink" title="2.re"></a><strong>2.re</strong></h3><h3 id="3-requests"><a href="#3-requests" class="headerlink" title="3.requests"></a><strong>3.requests</strong></h3><h3 id="4-selenimu"><a href="#4-selenimu" class="headerlink" title="4.selenimu"></a><strong>4.selenimu</strong></h3><p>这个库是配合一些驱动去爬取动态渲染网页的库</p>
<a id="more"></a>
<h4 id="1-chromedriver"><a href="#1-chromedriver" class="headerlink" title="(1)chromedriver"></a><strong>(1)chromedriver</strong></h4><p>我们使用的时候需要先下载一个 <a href="http://npm.taobao.org/mirrors/chromedriver/2.46/" target="_blank" rel="noopener">chromedriver.exe</a> ，下载好了以后放在 chrome.exe 的相同目录下（默认安装路径），然后将这个目录放作为 PATH</p>
<pre><code>import selenium
from selenium import webdriver

driver = webdriver.Chrome()
driver.get(&quot;http://www.baidu.com&quot;)
driver.page_source
</code></pre><p>这种方式的唯一的缺点是会出现浏览器界面，这可能是我们不需要的,所以我们可以使用 headless 的方式来隐藏 web 界面(其实就是使用 options() 对象的 add_argument 属性去设置 headless 参数 )</p>
<pre><code>import os
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.chrome.options import Options
import time

chrome_options = Options()
chrome_options.add_argument(&quot;--headless&quot;)

base_url = &quot;http://www.baidu.com/&quot;
#对应的chromedriver的放置目录
driver = webdriver.Chrome(executable_path=(r&apos;C:\Program Files (x86)\Google\Chrome\Application\chromedriver.exe&apos;), chrome_options=chrome_options)

driver.get(base_url + &quot;/&quot;)

start_time=time.time()
print(&apos;this is start_time &apos;,start_time)

driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;selenium webdriver&quot;)
driver.find_element_by_id(&quot;su&quot;).click()
driver.save_screenshot(&apos;screen.png&apos;)

driver.close()

end_time=time.time()
print(&apos;this is end_time &apos;,end_time)
</code></pre><h4 id="2-phantomJS"><a href="#2-phantomJS" class="headerlink" title="(2)phantomJS"></a><strong>(2)phantomJS</strong></h4><p>这是另一种无界面的实现方法，虽然说不维护了，并且在使用的过程中会出现各种玄学，但是还是要介绍一下</p>
<p>和 Chromedriver 一样，我们首先要去<a href="http://phantomjs.org/download.html" target="_blank" rel="noopener">下载</a> phantomJS,然后将其放在 PATH 中方便我们后面的调用</p>
<pre><code>import selenium
from selenium import webdriver

driver = webdriver.phantomJS()
driver.get(&quot;http://www.baidu.com&quot;)
driver.page_source
</code></pre><h3 id="5-lxml"><a href="#5-lxml" class="headerlink" title="5.lxml"></a><strong>5.lxml</strong></h3><p>这个是为 XPATH 的使用准备的库</p>
<h3 id="6-beautifulsoup"><a href="#6-beautifulsoup" class="headerlink" title="6.beautifulsoup"></a><strong>6.beautifulsoup</strong></h3><p>pip 安装的时候注意一下要安装 beautifulsoup4,表示第四个版本，并且这个库是依赖于 lxml 的，所以安装之前请先安装 lxml </p>
<pre><code>from bs4 import BeautifulSoup
soup = BeautifulSoup(&apos;`&lt;html&gt;&lt;/html&gt;&apos;,&apos;lxml&apos;)
</code></pre><h3 id="7-pyquery"><a href="#7-pyquery" class="headerlink" title="7.pyquery"></a><strong>7.pyquery</strong></h3><p>和 BeautifulSoup 一样也是一个网页解析库，但是相对来讲语法简单一些（语法是模仿 jQuery 的）</p>
<pre><code>from pyquery import PyQuery as pq

page = pq(&apos;`&lt;html&gt;hello world&lt;/html&gt;`&apos;)
result = page(&apos;html&apos;).text()
result
</code></pre><h3 id="8-pymysql"><a href="#8-pymysql" class="headerlink" title="8.pymysql"></a><strong>8.pymysql</strong></h3><p>这个库是 py 操纵 Mysql 的库</p>
<pre><code>import pymysql

conn = pymysql.connect(host=&apos;localhost&apos;,user=&apos;root&apos;,password=&apos;root&apos;,port=3306,db=&apos;test&apos;)
cursor = conn.cursor()
result = cursor.execute(&apos;select * from user where id = 1&apos;)
print(cursor.fetchone())
</code></pre><h3 id="9-pymango"><a href="#9-pymango" class="headerlink" title="9.pymango"></a><strong>9.pymango</strong></h3><pre><code>import pymango

client = pymango.MongoClient(&apos;localhost&apos;)
db = client(&apos;newtestdb&apos;)
db[&apos;table&apos;].insert({&apos;name&apos;:&apos;Bob&apos;})
db[&apos;table&apos;].find_one({&apos;name&apos;:&apos;Bob&apos;})
</code></pre><h3 id="10-redis"><a href="#10-redis" class="headerlink" title="10.redis"></a><strong>10.redis</strong></h3><pre><code>import redis

r = redis.Redis(&apos;localhost&apos;,6379)
r.set(&quot;name&quot;,&quot;Bob&quot;)
r.get(&apos;name&apos;)
</code></pre><h3 id="11-flask"><a href="#11-flask" class="headerlink" title="11.flask"></a><strong>11.flask</strong></h3><p>flask 在后期使用代理的时候可能会用到</p>
<pre><code>from flask import Flask

app = Flask(__name__)

@app.route(&apos;/&apos;)

def hello():
    return &quot;hello world&quot;

if __name__ == &apos;__main__&apos;:

    app.run(debug=True)
</code></pre><h3 id="12-django"><a href="#12-django" class="headerlink" title="12.django"></a><strong>12.django</strong></h3><p>在分布式爬虫的维护方面可能会用到 django </p>
<h3 id="13-jupyter"><a href="#13-jupyter" class="headerlink" title="13.jupyter"></a><strong>13.jupyter</strong></h3><p>网页端记事本</p>
<h2 id="0X02-基础部分"><a href="#0X02-基础部分" class="headerlink" title="0X02 基础部分"></a><strong>0X02 基础部分</strong></h2><h3 id="1-爬虫基本原理"><a href="#1-爬虫基本原理" class="headerlink" title="1.爬虫基本原理"></a><strong>1.爬虫基本原理</strong></h3><h4 id="1-爬虫是什么"><a href="#1-爬虫是什么" class="headerlink" title="(1)爬虫是什么"></a><strong>(1)爬虫是什么</strong></h4><p>爬虫就是请求网页并且提取数据的自动化工具</p>
<h4 id="2-爬虫的基本流程"><a href="#2-爬虫的基本流程" class="headerlink" title="(2)爬虫的基本流程"></a><strong>(2)爬虫的基本流程</strong></h4><h5 id="1-发起请求："><a href="#1-发起请求：" class="headerlink" title="1.发起请求："></a><strong>1.发起请求：</strong></h5><p>通过 HTTP 库向目标网站发起请求，即发送一个 request（可以包含额外的header信息），然后等待服务器的响应</p>
<h5 id="2-获取响应内容"><a href="#2-获取响应内容" class="headerlink" title="2.获取响应内容"></a><strong>2.获取响应内容</strong></h5><p>如果服务器正常响应，会得到一个 Response.其内容就是所要获取的页面的内容，类型可以是 HTML、JSON、二进制数据(图片视频)等</p>
<h5 id="3-解析内容"><a href="#3-解析内容" class="headerlink" title="3.解析内容"></a><strong>3.解析内容</strong></h5><p>对 HTML 数据可以使用正则表达式、网页解析库进行解析。如果是 Json 则可以转化成 JSON 对象解析，如果是二进制数据可以保存或者进一步处理</p>
<h5 id="4-保存数据"><a href="#4-保存数据" class="headerlink" title="4.保存数据"></a><strong>4.保存数据</strong></h5><p>保存的形式多样，可以是纯文本，也可以保存成数据库，或者保存为特定格式的文件</p>
<h4 id="3-请求的基本元素"><a href="#3-请求的基本元素" class="headerlink" title="(3)请求的基本元素"></a><strong>(3)请求的基本元素</strong></h4><p>1.请求方法<br>2.请求 URL<br>3.请求头<br>4.请求体(POST 方法独有)</p>
<h4 id="4-请响应的基本元素"><a href="#4-请响应的基本元素" class="headerlink" title="(4)请响应的基本元素"></a><strong>(4)请响应的基本元素</strong></h4><p>1.状态码<br>2.响应头<br>3.响应体</p>
<h4 id="5-实例代码："><a href="#5-实例代码：" class="headerlink" title="(5)实例代码："></a><strong>(5)实例代码：</strong></h4><h5 id="1-请求网页数据"><a href="#1-请求网页数据" class="headerlink" title="1.请求网页数据"></a><strong>1.请求网页数据</strong></h5><pre><code>import requests

headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36&apos;}
res = requests.get(&quot;http://www.baidu.com&quot;,headers=headers)

print(res.status_code)
print(res.headers)
print(res.text)
</code></pre><p>当然这里使用的是 res.text 这种文本格式，如果返回的是一个二进制格式的数据(比如图片)，那么我们应该使用 res.content</p>
<h5 id="2-请求二进制数据"><a href="#2-请求二进制数据" class="headerlink" title="2.请求二进制数据"></a><strong>2.请求二进制数据</strong></h5><pre><code>import requests

headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36&apos;}
res = requests.get(&quot;https://ss2.bdstatic.com/lfoZeXSm1A5BphGlnYG/icon/95486.png&quot;,headers=headers)
print(res.content)

with open(r&apos;E:\桌面\1.png&apos;,&apos;wb&apos;) as f:
    f.write(res.content)
    f.close()
</code></pre><h4 id="6-解析方式"><a href="#6-解析方式" class="headerlink" title="(6)解析方式"></a><strong>(6)解析方式</strong></h4><p>1.直接处理<br>2.转化成 json对象<br>3.正则匹配<br>4.BeautifulSoap<br>5.PyQuery<br>6.XPath</p>
<h4 id="7-response-的结果为什么和浏览器中的看到的不同"><a href="#7-response-的结果为什么和浏览器中的看到的不同" class="headerlink" title="(7)response 的结果为什么和浏览器中的看到的不同"></a><strong>(7)response 的结果为什么和浏览器中的看到的不同</strong></h4><p>我们使用脚本去请求(只是一次请求)网页得到的是最原始的网页的源码，这个源码里面会有很多的远程的 js 和 css 的加载，我们的脚本是没法解析的，但是浏览器能对这些远程的链接进行再次的请求，然后利用加载到的数据对页面进行进一步的加载和渲染，于是我们在浏览器中看到的页面是很多请求渲染得到的结果，因此和我们一次请求的到的页面肯定是不一样的。</p>
<h4 id="8-如何解决-JS-渲染的问题"><a href="#8-如何解决-JS-渲染的问题" class="headerlink" title="(8)如何解决 JS 渲染的问题"></a><strong>(8)如何解决 JS 渲染的问题</strong></h4><p>解决问题的方法本质上就是模拟浏览器的加载渲染，然后将渲染好的页面进行返回</p>
<p>1.分析Ajax 请求<br>2.selenium+webdriver(推荐)<br>3.splash<br>4.PyV8、Ghostpy</p>
<h4 id="9-如何存储数据"><a href="#9-如何存储数据" class="headerlink" title="(9)如何存储数据"></a><strong>(9)如何存储数据</strong></h4><p>1.纯本文<br>2.关系型数据库<br>3.非关系型数据库<br>4.二进制文件</p>
<h2 id="0X03-Urllib-库"><a href="#0X03-Urllib-库" class="headerlink" title="0X03 Urllib 库"></a><strong>0X03 Urllib 库</strong></h2><h3 id="1-什么是-Urllib-库"><a href="#1-什么是-Urllib-库" class="headerlink" title="1.什么是 Urllib 库"></a><strong>1.什么是 Urllib 库</strong></h3><p>这个库是 python 的内置的一个请求库</p>
<p>urllib.request —————–&gt;请求模块<br>urllib.error——————–&gt;异常处理模块<br>urllib.parse——————–&gt;url解析模块<br>urllib.robotparser  ————&gt;robots.txt 解析模块</p>
<h3 id="2-urllib-库的基本使用"><a href="#2-urllib-库的基本使用" class="headerlink" title="2.urllib 库的基本使用"></a><strong>2.urllib 库的基本使用</strong></h3><h4 id="1-函数调用原型"><a href="#1-函数调用原型" class="headerlink" title="(1)函数调用原型"></a><strong>(1)函数调用原型</strong></h4><pre><code>urllib.request.urlopen(url,data,timeout...)
</code></pre><h4 id="2-实例代码一：GET-请求"><a href="#2-实例代码一：GET-请求" class="headerlink" title="(2)实例代码一：GET 请求"></a><strong>(2)实例代码一：GET 请求</strong></h4><pre><code>import urllib.request

res = urllib.request.urlopen(&quot;http://www.baidu.com&quot;)
print(res.read().decode(&apos;utf-8&apos;))
</code></pre><h4 id="3-实例代码二：POST-请求"><a href="#3-实例代码二：POST-请求" class="headerlink" title="(3)实例代码二：POST 请求"></a><strong>(3)实例代码二：POST 请求</strong></h4><pre><code>import urllib.request
import urllib.parse
from pprint import pprint

data = bytes(urllib.parse.urlencode({&apos;world&apos;:&apos;hello&apos;}),encoding = &apos;utf8&apos;)
res = urllib.request.urlopen(&apos;https://httpbin.org/post&apos;,data = data)
pprint(res.read().decode(&apos;utf-8&apos;))
</code></pre><h4 id="4-实例代码三：超时设置"><a href="#4-实例代码三：超时设置" class="headerlink" title="(4)实例代码三：超时设置"></a><strong>(4)实例代码三：超时设置</strong></h4><pre><code>import urllib.request

res = urllib.request.urlopen(&quot;http://httpbin.org.get&quot;,timeout = 1)
print(res.read().decode(&apos;utf-8&apos;))
</code></pre><h4 id="5-实例代码：获取响应状态码、响应头、响应体"><a href="#5-实例代码：获取响应状态码、响应头、响应体" class="headerlink" title="(5)实例代码：获取响应状态码、响应头、响应体"></a><strong>(5)实例代码：获取响应状态码、响应头、响应体</strong></h4><pre><code>import urllib.request

res = urllib.request.urlopen(&quot;http://httpbin.org/get&quot;)
print(res.status)
print(res.getheaders())
print(res.getheader(&apos;Server&apos;))
#获取响应体的使用 read() 的结果是 Bytes 类型，我们还要用 decode(&apos;utf-8&apos;)转化成字符串
print(res.read().decode(&apos;utf-8&apos;))
</code></pre><h4 id="6-request-对象"><a href="#6-request-对象" class="headerlink" title="(6) request 对象"></a><strong>(6) request 对象</strong></h4><pre><code>from urllib import request,parse
from pprint import pprint

url = &quot;https://httpbin.org/post&quot;
headers = {
    &apos;User-Agent&apos;:&apos;hello wolrd&apos;,
    &apos;Host&apos;:&apos;httpbin.org&apos;
}
dict = {
    &apos;name&apos;:&apos;Tom&apos;,
}

data = bytes(parse.urlencode(dict),encoding=&apos;utf8&apos;)
req = request.Request(url=url,data=data,headers=headers,method=&apos;POST&apos;)
res = request.urlopen(req)
pprint(res.read().decode(&apos;utf-8&apos;))
</code></pre><h3 id="3-urllib-库的进阶使用"><a href="#3-urllib-库的进阶使用" class="headerlink" title="3.urllib 库的进阶使用"></a><strong>3.urllib 库的进阶使用</strong></h3><h4 id="1-代理"><a href="#1-代理" class="headerlink" title="(1)代理"></a><strong>(1)代理</strong></h4><pre><code>import urllib.request

proxy_handler = urllib.request.ProxyHandler({
    &apos;http&apos;:&apos;http://127.0.0.1:9743&apos;
})

opener = urllib.request.build_opener(proxy_handler)
res = opener.open(&apos;https://www.taobao.com&apos;)
print(res.read())
</code></pre><h4 id="2-Cookie"><a href="#2-Cookie" class="headerlink" title="(2)Cookie"></a><strong>(2)Cookie</strong></h4><h5 id="1-获取-cookies"><a href="#1-获取-cookies" class="headerlink" title="1.获取 cookies"></a><strong>1.获取 cookies</strong></h5><pre><code>import http.cookiejar
import urllib.request

cookie = http.cookiejar.CookieJar()
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&quot;http://www.baidu.com&quot;)
for item in cookie:
    print(item.name+&quot;=&quot;+item.value)
</code></pre><h5 id="2-将-cookie-保存成文本文件"><a href="#2-将-cookie-保存成文本文件" class="headerlink" title="2.将 cookie 保存成文本文件"></a><strong>2.将 cookie 保存成文本文件</strong></h5><p><strong>格式一：</strong></p>
<pre><code>import http.cookiejar, urllib.request
filename = &quot;cookie.txt&quot;
cookie = http.cookiejar.MozillaCookieJar(filename)
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&apos;http://www.baidu.com&apos;)
cookie.save(ignore_discard=True, ignore_expires=True)
</code></pre><p><strong>格式二：</strong></p>
<pre><code>import http.cookiejar, urllib.request
filename = &apos;cookie.txt&apos;
cookie = http.cookiejar.LWPCookieJar(filename)
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&apos;http://www.baidu.com&apos;)
cookie.save(ignore_discard=True, ignore_expires=True)
</code></pre><h5 id="3-使用文件中的-cookie"><a href="#3-使用文件中的-cookie" class="headerlink" title="3.使用文件中的 cookie"></a><strong>3.使用文件中的 cookie</strong></h5><pre><code>import http.cookiejar, urllib.request
cookie = http.cookiejar.LWPCookieJar()
cookie.load(&apos;cookie.txt&apos;, ignore_discard=True, ignore_expires=True)
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&apos;http://www.baidu.com&apos;)
print(response.read().decode(&apos;utf-8&apos;))
</code></pre><h4 id="3-异常处理"><a href="#3-异常处理" class="headerlink" title="(3)异常处理"></a><strong>(3)异常处理</strong></h4><h5 id="1-实例代码一：URLError"><a href="#1-实例代码一：URLError" class="headerlink" title="1.实例代码一：URLError"></a><strong>1.实例代码一：URLError</strong></h5><pre><code>from urllib import request
from urllib import error

try:
    urllib.request.urlopen(&quot;http://httpbin.org/xss&quot;)
except error.URLError as e:
    print(e.reason)
</code></pre><h5 id="2-实例代码二：HTTPError"><a href="#2-实例代码二：HTTPError" class="headerlink" title="2.实例代码二：HTTPError"></a><strong>2.实例代码二：HTTPError</strong></h5><pre><code>from urllib import request, error

try:
    response = request.urlopen(&apos;http://httpbin.org/xss&apos;)
except error.HTTPError as e:
    print(e.reason, e.code, e.headers, sep=&apos;\n&apos;)
except error.URLError as e:
    print(e.reason)
else:
    print(&apos;Request Successfully&apos;)
</code></pre><h5 id="3-实例代码三：异常类型判断"><a href="#3-实例代码三：异常类型判断" class="headerlink" title="3.实例代码三：异常类型判断"></a><strong>3.实例代码三：异常类型判断</strong></h5><pre><code>import socket
import urllib.request
import urllib.error

try:
    response = urllib.request.urlopen(&apos;https://www.baidu.com&apos;, timeout=0.01)
except urllib.error.URLError as e:
    print(type(e.reason))
    if isinstance(e.reason, socket.timeout):
        print(&apos;TIME OUT&apos;)
</code></pre><h4 id="4-URL-解析工具类"><a href="#4-URL-解析工具类" class="headerlink" title="(4)URL 解析工具类"></a><strong>(4)URL 解析工具类</strong></h4><h5 id="1-urlparse"><a href="#1-urlparse" class="headerlink" title="1.urlparse"></a><strong>1.urlparse</strong></h5><pre><code>from urllib.parse import urlparse

result = urlparse(&apos;http://www.baidu.com/index.html;user?id=5#comment&apos;)
print(type(result), result)
</code></pre><h5 id="2-urlunparse"><a href="#2-urlunparse" class="headerlink" title="2.urlunparse"></a><strong>2.urlunparse</strong></h5><pre><code>from urllib.parse import urlunparse

data = [&apos;http&apos;, &apos;www.baidu.com&apos;, &apos;index.html&apos;, &apos;user&apos;, &apos;a=6&apos;, &apos;comment&apos;]
print(urlunparse(data))
</code></pre><h5 id="3-urljoin"><a href="#3-urljoin" class="headerlink" title="3.urljoin"></a><strong>3.urljoin</strong></h5><pre><code>from urllib.parse import urljoin

print(urljoin(&apos;http://www.baidu.com&apos;, &apos;FAQ.html&apos;))
</code></pre><h5 id="4-urlencode"><a href="#4-urlencode" class="headerlink" title="4.urlencode"></a><strong>4.urlencode</strong></h5><pre><code>from urllib.parse import urlencode

params = {
    &apos;name&apos;: &apos;germey&apos;,
    &apos;age&apos;: 22
}
base_url = &apos;http://www.baidu.com?&apos;
url = base_url + urlencode(params)
print(url)
</code></pre><h2 id="0X04-Requests-库"><a href="#0X04-Requests-库" class="headerlink" title="0X04 Requests 库"></a><strong>0X04 Requests 库</strong></h2><h3 id="1-什么是-requests-库"><a href="#1-什么是-requests-库" class="headerlink" title="1.什么是 requests 库"></a><strong>1.什么是 requests 库</strong></h3><p>这个库是基于 URLlib3 的，改善了 urllib api 比较繁琐的特点，使用几句简单的语句就能实现设置 cookie 和设置代理的功能，非常的方便</p>
<h3 id="2-requests-库的基本使用"><a href="#2-requests-库的基本使用" class="headerlink" title="2.requests 库的基本使用"></a><strong>2.requests 库的基本使用</strong></h3><h4 id="1-获取响应信息"><a href="#1-获取响应信息" class="headerlink" title="(1)获取响应信息"></a><strong>(1)获取响应信息</strong></h4><pre><code>import requests

res = requests.get(&quot;http://www.baidu.com&quot;)
print(res.status_code)
print(res.text)
print(res.cookies)
</code></pre><h4 id="2-各种请求方法"><a href="#2-各种请求方法" class="headerlink" title="(2)各种请求方法"></a><strong>(2)各种请求方法</strong></h4><pre><code>import requests

requests.get(&quot;http://httpbin.org/get&quot;)
requests.post(&quot;http://httpbin.org/post&quot;)
requests.put(&quot;http://httpbin.org/put&quot;)
requests.head(&quot;http://httpbin.org/get&quot;)
requests.delete(&quot;http://httpbin.org/delete&quot;)
requests.options(&quot;http://httpbin.org/get&quot;)
</code></pre><h4 id="3-带参数的-get-请求"><a href="#3-带参数的-get-请求" class="headerlink" title="(3)带参数的 get 请求"></a><strong>(3)带参数的 get 请求</strong></h4><pre><code>import requests

params = {
    &apos;id&apos;:1,
    &apos;user&apos;:&apos;Tom&apos;,
    &apos;pass&apos;:&apos;123456&apos;
}

res = requests.get(&apos;http://httpbin.org/get&apos;,params = params )
print(res.text)
</code></pre><h4 id="4-解析-json"><a href="#4-解析-json" class="headerlink" title="(4)解析 json"></a><strong>(4)解析 json</strong></h4><pre><code>import requests

res = requests.get(&quot;http://httpbin.org/get&quot;)
print(res.json())
</code></pre><h4 id="5-获取二进制数据"><a href="#5-获取二进制数据" class="headerlink" title="(5)获取二进制数据"></a><strong>(5)获取二进制数据</strong></h4><pre><code>import requests

response = requests.get(&quot;https://github.com/favicon.ico&quot;)
with open(&apos;favicon.ico&apos;, &apos;wb&apos;) as f:
    f.write(response.content)
    f.close()
</code></pre><h4 id="6-添加-headers"><a href="#6-添加-headers" class="headerlink" title="(6)添加 headers"></a><strong>(6)添加 headers</strong></h4><pre><code>import requests

headers = {
    &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&apos;
}
response = requests.get(&quot;https://www.zhihu.com/explore&quot;, headers=headers)
print(response.text)
</code></pre><h4 id="7-POST-请求"><a href="#7-POST-请求" class="headerlink" title="(7)POST 请求"></a><strong>(7)POST 请求</strong></h4><pre><code>import requests

data = {
    &apos;id&apos;:1,
    &apos;user&apos;:&apos;Tom&apos;,
    &apos;pass&apos;:&apos;123456&apos;,
}

res = requests.post(&apos;http://httpbin.org/post&apos;,data=data)
print(res.text)
</code></pre><h4 id="8-response-属性"><a href="#8-response-属性" class="headerlink" title="(8) response 属性"></a><strong>(8) response 属性</strong></h4><pre><code>import requests

data = {
    &apos;id&apos;:1,
    &apos;user&apos;:&apos;Tom&apos;,
    &apos;pass&apos;:&apos;123456&apos;,
}

res = requests.post(&apos;http://httpbin.org/post&apos;,data=data)
print(res.text)
print(res.status_code)
print(res.headers)
print(res.cookies)
print(res.history)
print(res.url)
</code></pre><h4 id="9-响应状态码"><a href="#9-响应状态码" class="headerlink" title="(9)响应状态码"></a><strong>(9)响应状态码</strong></h4><p>每一个状态码都对应着一个名字，我们只要调用这个名字就可以进行判断了</p>
<pre><code>100: (&apos;continue&apos;,),
101: (&apos;switching_protocols&apos;,),
102: (&apos;processing&apos;,),
103: (&apos;checkpoint&apos;,),
122: (&apos;uri_too_long&apos;, &apos;request_uri_too_long&apos;),
200: (&apos;ok&apos;, &apos;okay&apos;, &apos;all_ok&apos;, &apos;all_okay&apos;, &apos;all_good&apos;, &apos;\\o/&apos;, &apos;✓&apos;),
201: (&apos;created&apos;,),
202: (&apos;accepted&apos;,),
203: (&apos;non_authoritative_info&apos;, &apos;non_authoritative_information&apos;),
204: (&apos;no_content&apos;,),
205: (&apos;reset_content&apos;, &apos;reset&apos;),
206: (&apos;partial_content&apos;, &apos;partial&apos;),
207: (&apos;multi_status&apos;, &apos;multiple_status&apos;, &apos;multi_stati&apos;, &apos;multiple_stati&apos;),
208: (&apos;already_reported&apos;,),
226: (&apos;im_used&apos;,),

# Redirection.
300: (&apos;multiple_choices&apos;,),
301: (&apos;moved_permanently&apos;, &apos;moved&apos;, &apos;\\o-&apos;),
302: (&apos;found&apos;,),
303: (&apos;see_other&apos;, &apos;other&apos;),
304: (&apos;not_modified&apos;,),
305: (&apos;use_proxy&apos;,),
306: (&apos;switch_proxy&apos;,),
307: (&apos;temporary_redirect&apos;, &apos;temporary_moved&apos;, &apos;temporary&apos;),
308: (&apos;permanent_redirect&apos;,
      &apos;resume_incomplete&apos;, &apos;resume&apos;,), # These 2 to be removed in 3.0

# Client Error.
400: (&apos;bad_request&apos;, &apos;bad&apos;),
401: (&apos;unauthorized&apos;,),
402: (&apos;payment_required&apos;, &apos;payment&apos;),
403: (&apos;forbidden&apos;,),
404: (&apos;not_found&apos;, &apos;-o-&apos;),
405: (&apos;method_not_allowed&apos;, &apos;not_allowed&apos;),
406: (&apos;not_acceptable&apos;,),
407: (&apos;proxy_authentication_required&apos;, &apos;proxy_auth&apos;, &apos;proxy_authentication&apos;),
408: (&apos;request_timeout&apos;, &apos;timeout&apos;),
409: (&apos;conflict&apos;,),
410: (&apos;gone&apos;,),
411: (&apos;length_required&apos;,),
412: (&apos;precondition_failed&apos;, &apos;precondition&apos;),
413: (&apos;request_entity_too_large&apos;,),
414: (&apos;request_uri_too_large&apos;,),
415: (&apos;unsupported_media_type&apos;, &apos;unsupported_media&apos;, &apos;media_type&apos;),
416: (&apos;requested_range_not_satisfiable&apos;, &apos;requested_range&apos;, &apos;range_not_satisfiable&apos;),
417: (&apos;expectation_failed&apos;,),
418: (&apos;im_a_teapot&apos;, &apos;teapot&apos;, &apos;i_am_a_teapot&apos;),
421: (&apos;misdirected_request&apos;,),
422: (&apos;unprocessable_entity&apos;, &apos;unprocessable&apos;),
423: (&apos;locked&apos;,),
424: (&apos;failed_dependency&apos;, &apos;dependency&apos;),
425: (&apos;unordered_collection&apos;, &apos;unordered&apos;),
426: (&apos;upgrade_required&apos;, &apos;upgrade&apos;),
428: (&apos;precondition_required&apos;, &apos;precondition&apos;),
429: (&apos;too_many_requests&apos;, &apos;too_many&apos;),
431: (&apos;header_fields_too_large&apos;, &apos;fields_too_large&apos;),
444: (&apos;no_response&apos;, &apos;none&apos;),
449: (&apos;retry_with&apos;, &apos;retry&apos;),
450: (&apos;blocked_by_windows_parental_controls&apos;, &apos;parental_controls&apos;),
451: (&apos;unavailable_for_legal_reasons&apos;, &apos;legal_reasons&apos;),
499: (&apos;client_closed_request&apos;,),

# Server Error.
500: (&apos;internal_server_error&apos;, &apos;server_error&apos;, &apos;/o\\&apos;, &apos;✗&apos;),
501: (&apos;not_implemented&apos;,),
502: (&apos;bad_gateway&apos;,),
503: (&apos;service_unavailable&apos;, &apos;unavailable&apos;),
504: (&apos;gateway_timeout&apos;,),
505: (&apos;http_version_not_supported&apos;, &apos;http_version&apos;),
506: (&apos;variant_also_negotiates&apos;,),
507: (&apos;insufficient_storage&apos;,),
509: (&apos;bandwidth_limit_exceeded&apos;, &apos;bandwidth&apos;),
510: (&apos;not_extended&apos;,),
511: (&apos;network_authentication_required&apos;, &apos;network_auth&apos;, &apos;network_authentication&apos;),
</code></pre><p><strong>实例代码：</strong></p>
<pre><code>import requests

response = requests.get(&apos;http://www.jianshu.com/hello.html&apos;)
exit() if not response.status_code == requests.codes.not_found else print(&apos;404 Not Found&apos;)
</code></pre><h3 id="3-requests-库的进阶使用"><a href="#3-requests-库的进阶使用" class="headerlink" title="3.requests 库的进阶使用"></a><strong>3.requests 库的进阶使用</strong></h3><h4 id="1-文件上传"><a href="#1-文件上传" class="headerlink" title="(1)文件上传"></a><strong>(1)文件上传</strong></h4><pre><code>import requests

files = {&apos;file&apos;:open(&apos;E:\\1.png&apos;,&apos;rb&apos;)}

res= requests.post(&apos;http://httpbin.org/post&apos;,files=files)
print(res.text)
</code></pre><h4 id="2-获取-cookies"><a href="#2-获取-cookies" class="headerlink" title="(2)获取 cookies"></a><strong>(2)获取 cookies</strong></h4><pre><code>import requests

res = requests.get(&quot;http://www.baidu.com&quot;)
for key,value in res.cookies.items():
    print(key + &quot;=&quot; + value)
</code></pre><h4 id="3-会话维持"><a href="#3-会话维持" class="headerlink" title="(3)会话维持"></a><strong>(3)会话维持</strong></h4><p>这个用法非常的重要，在我们的模拟登陆的过程中是必然会用到的方法，在 CTF 的写脚本的过程中也经常会用到，所以我们稍微详细解释一下</p>
<p>我们在使用 requests.get 的时候要明确一点就是，我们每使用一个 requests.get 就相当于重新打开了一个浏览器，因此上一个 requests.get 中设置的 cookie 在下面的第二次请求中是不能同步的，我们来看下面的例子</p>
<p><strong>实例代码:</strong></p>
<pre><code>import requests

#这里我们设置了 cookie 
requests.get(&apos;http://httpbin.org/cookies/set/number/123456789&apos;)
#我们再次发起请求，查看是否能带着我们设置的 cookie 
res = requests.get(&apos;http://httpbin.org/cookies&apos;)
print(res.text)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>{
  &quot;cookies&quot;: {}
}
</code></pre><p>我们发现，正如我们上面分析的，我们第一次访问设置的 cookie 并没有在第二次访问中生效，那么怎么办呢，我们有一个 session() 方法能帮助我们解决这个问题</p>
<p><strong>实例代码：</strong></p>
<pre><code>import requests

s = requests.Session()
s.get(&apos;http://httpbin.org/cookies/set/number/123456789&apos;)
res = s.get(&apos;http://httpbin.org/cookies&apos;)
print(res.text)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>{
  &quot;cookies&quot;: {
    &quot;number&quot;: &quot;123456789&quot;
  }
}
</code></pre><h4 id="4-证书验证"><a href="#4-证书验证" class="headerlink" title="(4)证书验证"></a><strong>(4)证书验证</strong></h4><p>我们在访问 https 的网站的时候浏览器首先会对网站的证书进行校验，如果发现这个证书不是官方授权的话就会出现警告页面而不会继续访问该网站，对于爬虫来讲就会抛出异常，那如果我们想要让爬虫忽略证书的问题继续访问这个网站的话就要对其进行设置</p>
<h5 id="1-忽略证书验证"><a href="#1-忽略证书验证" class="headerlink" title="1.忽略证书验证"></a><strong>1.忽略证书验证</strong></h5><pre><code>import requests

response = requests.get(&apos;https://www.heimidy.cc/&apos;,verify=False)
print(response.status_code)
</code></pre><p>但是此时是存在一个警告的，我们可以通过导入 urilib3 的包，并调用消除 warning 的方法来消除这个警告</p>
<pre><code>import requests
from requests.packages import urllib3

urllib3.disable_warnings()
response = requests.get(&apos;https://www.heimidy.cc/&apos;,verify=False)
print(response.status_code)
</code></pre><h5 id="2-手动指定本地证书进行验证"><a href="#2-手动指定本地证书进行验证" class="headerlink" title="2.手动指定本地证书进行验证"></a><strong>2.手动指定本地证书进行验证</strong></h5><pre><code>import requests

response = requests.get(&apos;https://www.12306.cn&apos;, cert=(&apos;/path/server.crt&apos;, &apos;/path/key&apos;))
print(response.status_code)
</code></pre><h4 id="5-代理设置"><a href="#5-代理设置" class="headerlink" title="(5)代理设置"></a><strong>(5)代理设置</strong></h4><p>除了常见到的 https 和 http 代理以=以外，我们还可以使用 socks 代理，不过需要 pip 安装一个 requests[socks] 包</p>
<pre><code>import requests

proxies = {
    &quot;http&quot;:&quot;http://127.0.0.1:1080&quot;,
    &quot;https&quot;:&quot;https://127.0.0.1:1080&quot;
}

res = requests.get(&quot;https://www.google.com&quot;,proxies=proxies)
print(res.status_code)
</code></pre><p>这里有一个疑问就是我是用 socks 代理访问 google 是失败的，会报错</p>
<p><strong>实例代码：</strong></p>
<pre><code>import requests

proxies = {
    &quot;http&quot;:&quot;socks5://127.0.0.1:1080&quot;,
    &quot;https&quot;:&quot;socks5://127.0.0.1:1080&quot;
}

res = requests.get(&quot;https://www.google.com&quot;,proxies=proxies,verify=False)
print(res.status_code)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>SSLError: SOCKSHTTPSConnectionPool(host=&apos;www.google.com&apos;, port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(&quot;bad handshake: SysCallError(-1, &apos;Unexpected EOF&apos;)&quot;)))
</code></pre><p>试了一些方法都没什么效果，有待以后考证</p>
<h4 id="6-超时设置"><a href="#6-超时设置" class="headerlink" title="(6)超时设置"></a><strong>(6)超时设置</strong></h4><pre><code>import requests
from requests.exceptions import ReadTimeout
try:
    response = requests.get(&quot;http://httpbin.org/get&quot;, timeout = 0.5)
    print(response.status_code)
except ReadTimeout:
    print(&apos;Timeout&apos;)
</code></pre><h4 id="7-Basic-认证"><a href="#7-Basic-认证" class="headerlink" title="(7)Basic 认证"></a><strong>(7)Basic 认证</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>import requests
from requests.auth import HTTPBasicAuth

r = requests.get(&apos;http://120.27.34.24:9001&apos;, auth=HTTPBasicAuth(&apos;user&apos;, &apos;123&apos;))
print(r.status_code)
</code></pre><p><strong>实例代码二：</strong></p>
<pre><code>import requests

r = requests.get(&apos;http://120.27.34.24:9001&apos;, auth=(&apos;user&apos;, &apos;123&apos;))
print(r.status_code)
</code></pre><h4 id="8-异常处理"><a href="#8-异常处理" class="headerlink" title="(8)异常处理"></a><strong>(8)异常处理</strong></h4><pre><code>import requests
from requests.exceptions import ReadTimeout, ConnectionError, RequestException
try:
    response = requests.get(&quot;http://httpbin.org/get&quot;, timeout = 0.5)
    print(response.status_code)
except ReadTimeout:
    print(&apos;Timeout&apos;)
except ConnectionError:
    print(&apos;Connection error&apos;)
except RequestException:
    print(&apos;Error&apos;)
</code></pre><h2 id="0X05-正则表达式"><a href="#0X05-正则表达式" class="headerlink" title="0X05 正则表达式"></a><strong>0X05 正则表达式</strong></h2><h3 id="1-什么是正则表达式"><a href="#1-什么是正则表达式" class="headerlink" title="1.什么是正则表达式"></a><strong>1.什么是正则表达式</strong></h3><p>正则表达式是对字符串进行操作的一种逻辑公式，用事先定义好的一些特定的字符，以及这些字符的组合，组成一个规则字符串，用这个规则字符串去表达对字符串的一种过滤的逻辑，在python 中使用过re 库来实现</p>
<h3 id="2-常见的匹配模式"><a href="#2-常见的匹配模式" class="headerlink" title="2.常见的匹配模式"></a><strong>2.常见的匹配模式</strong></h3><p><img src="https://picture-1253331270.cos.ap-beijing.myqcloud.com/%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%801.png" alt="此处输入图片的描述"></p>
<h3 id="3-re-match"><a href="#3-re-match" class="headerlink" title="3.re.match"></a><strong>3.re.match</strong></h3><pre><code>re.match(pattern, string, flags=0)
</code></pre><h4 id="1-常规匹配"><a href="#1-常规匹配" class="headerlink" title="(1)常规匹配"></a><strong>(1)常规匹配</strong></h4><p>span() 方法是返回匹配的范围，group() 是返回匹配的结果</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;Hello 123 4567 World_This is a Regex Demo&apos;
res = re.match(&apos;^\w{5}\s\d{3}\s\d{4}\s\w{10}.*Demo$&apos;,content)
print(res.span())
print(res.group())
</code></pre><h4 id="2-泛匹配"><a href="#2-泛匹配" class="headerlink" title="(2)泛匹配"></a><strong>(2)泛匹配</strong></h4><pre><code>import re

content = &apos;Hello 123 4567 World_This is a Regex Demo&apos;
res = re.match(&apos;^Hello.*Demo$&apos;,content)
print(res.span())
print(res.group())
</code></pre><h4 id="3-匹配具体内容"><a href="#3-匹配具体内容" class="headerlink" title="(3)匹配具体内容"></a><strong>(3)匹配具体内容</strong></h4><p>我们如果想匹配具体的内容，我们可以用小括号将其括起来</p>
<pre><code>import re

content = &apos;Hello 1234567 World_This is a Regex Demo&apos;
res = re.match(&apos;^Hello\s(\d+)\s.*Demo$&apos;,content)
print(res.span(1))
print(res.group(1))
</code></pre><h4 id="4-贪婪与非贪婪模式"><a href="#4-贪婪与非贪婪模式" class="headerlink" title="(4)贪婪与非贪婪模式"></a><strong>(4)贪婪与非贪婪模式</strong></h4><p>所谓贪婪模式指的就是<code>.*</code> 会匹配尽可能多的字符，我们来看下面的例子</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;Hello 1234567 World_This is a Regex Demo&apos;
res = re.match(&apos;^He.*(\d+).*Demo$&apos;,content)
print(res.span(1))
print(res.group(1))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>(12, 13)
7
</code></pre><p>我们的本意是想匹配 1234567 这个字符串，但是实际上我们只匹配到了 7 ，因为<code>.*</code>默认的贪婪模式将123456匹配掉了，那么为了解决这个问题，我们可以使用<code>？</code> 去消除非贪婪模式</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;Hello 1234567 World_This is a Regex Demo&apos;
res = re.match(&apos;^He.*?(\d+).*Demo$&apos;,content)
print(res.span(1))
print(res.group(1))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>(6, 13)
1234567
</code></pre><h4 id="5-匹配模式"><a href="#5-匹配模式" class="headerlink" title="(5)匹配模式"></a><strong>(5)匹配模式</strong></h4><p>匹配模式是用来解决一些细节问题的，比如匹配中的是否区分大小写、是否能匹配换行符等</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;&apos;&apos;Hello 1234567 World_This is 

a Regex Demo&apos;&apos;&apos;

res = re.match(&apos;^He.*?(\d+).*Demo$&apos;,content,re.S)
print(res.span(1))
print(res.group(1))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>(6, 13)
1234567
</code></pre><p>可以发现我们的 <code>.*</code> 本来是不能匹配换行符的，但是我们使用了 re.S 的模式以后就可以正常匹配了</p>
<h4 id="6-转义字符"><a href="#6-转义字符" class="headerlink" title="(6)转义字符"></a>(6)转义字符</h4><p>如果在待匹配字符串中出现了正则表达式中的特殊字符，我们要对其进行转义操作</p>
<pre><code>import re

content = &apos;price is $5.00&apos;
res = re.match(&apos;price is \$5\.00&apos;, content)
print(res.group())
</code></pre><h3 id="4-re-search"><a href="#4-re-search" class="headerlink" title="4.re.search"></a><strong>4.re.search</strong></h3><p>我们上面介绍的 re.match 有一个弊端就是它只能从开头开始匹配，也就是说如果我们的正则不匹配第一个字符那么是无法匹配中间的字符的，所以我们还有一个武器叫  re.search，它会扫描整个字符串并返回第一个成功的匹配。</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;Extra stings Hello 1234567 World_This is a Regex Demo Extra stings&apos;
res = re.search(&apos;Hello.*?(\d+).*?Demo&apos;, content)
print(res.group(1))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>1234567 
</code></pre><p>因为这个特性能大大减少我们写正则的难度，因此，我们在能用 search 的情况下就不要用 match </p>
<h4 id="匹配练习："><a href="#匹配练习：" class="headerlink" title="匹配练习："></a><strong>匹配练习：</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>import re

html = &apos;&apos;&apos;&lt;div id=&quot;songs-list&quot;&gt;
    &lt;h2 class=&quot;title&quot;&gt;经典老歌&lt;/h2&gt;
    &lt;p class=&quot;introduction&quot;&gt;
        经典老歌列表
    &lt;/p&gt;
    &lt;ul id=&quot;list&quot; class=&quot;list-group&quot;&gt;
        &lt;li data-view=&quot;2&quot;&gt;一路上有你&lt;/li&gt;
        &lt;li data-view=&quot;7&quot;&gt;
            &lt;a href=&quot;/2.mp3&quot; singer=&quot;任贤齐&quot;&gt;沧海一声笑&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;4&quot; class=&quot;active&quot;&gt;
            &lt;a href=&quot;/3.mp3&quot; singer=&quot;齐秦&quot;&gt;往事随风&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;6&quot;&gt;&lt;a href=&quot;/4.mp3&quot; singer=&quot;beyond&quot;&gt;光辉岁月&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;&lt;a href=&quot;/5.mp3&quot; singer=&quot;陈慧琳&quot;&gt;记事本&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;
            &lt;a href=&quot;/6.mp3&quot; singer=&quot;邓丽君&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;但愿人长久&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;&apos;&apos;&apos;

res = re.search(&apos;&lt;li.*?/2\.mp3.*?singer=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&apos;,html,re.S)
print(res.group(1),res.group(2))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>任贤齐 沧海一声笑
</code></pre><h3 id="5-re-findall"><a href="#5-re-findall" class="headerlink" title="5.re.findall"></a><strong>5.re.findall</strong></h3><p>与之前两个不同的是 re.findall 搜会索字符串，并以列表形式返回全部能匹配的子串。</p>
<h4 id="匹配练习一："><a href="#匹配练习一：" class="headerlink" title="匹配练习一："></a><strong>匹配练习一：</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>import re

html = &apos;&apos;&apos;&lt;div id=&quot;songs-list&quot;&gt;
    &lt;h2 class=&quot;title&quot;&gt;经典老歌&lt;/h2&gt;
    &lt;p class=&quot;introduction&quot;&gt;
        经典老歌列表
    &lt;/p&gt;
    &lt;ul id=&quot;list&quot; class=&quot;list-group&quot;&gt;
        &lt;li data-view=&quot;2&quot;&gt;一路上有你&lt;/li&gt;
        &lt;li data-view=&quot;7&quot;&gt;
            &lt;a href=&quot;/2.mp3&quot; singer=&quot;任贤齐&quot;&gt;沧海一声笑&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;4&quot; class=&quot;active&quot;&gt;
            &lt;a href=&quot;/3.mp3&quot; singer=&quot;齐秦&quot;&gt;往事随风&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;6&quot;&gt;&lt;a href=&quot;/4.mp3&quot; singer=&quot;beyond&quot;&gt;光辉岁月&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;&lt;a href=&quot;/5.mp3&quot; singer=&quot;陈慧琳&quot;&gt;记事本&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;
            &lt;a href=&quot;/6.mp3&quot; singer=&quot;邓丽君&quot;&gt;但愿人长久&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;&apos;&apos;&apos;

res = re.findall(&apos;&lt;li.*?href=&quot;(.*?)&quot;.*?singer=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&apos;,html,re.S)
#print(res)
for i in res:
    print(i[0],i[1],i[2])
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[(&apos;/2.mp3&apos;, &apos;任贤齐&apos;, &apos;沧海一声笑&apos;), (&apos;/3.mp3&apos;, &apos;齐秦&apos;, &apos;往事随风&apos;), (&apos;/4.mp3&apos;, &apos;beyond&apos;, &apos;光辉岁月&apos;), (&apos;/5.mp3&apos;, &apos;陈慧琳&apos;, &apos;记事本&apos;), (&apos;/6.mp3&apos;, &apos;邓丽君&apos;, &apos;但愿人长久&apos;)]
/2.mp3 任贤齐 沧海一声笑
/3.mp3 齐秦 往事随风
/4.mp3 beyond 光辉岁月
/5.mp3 陈慧琳 记事本
/6.mp3 邓丽君 但愿人长久
</code></pre><h4 id="匹配练习二："><a href="#匹配练习二：" class="headerlink" title="匹配练习二："></a><strong>匹配练习二：</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>import re

html = &apos;&apos;&apos;&lt;div id=&quot;songs-list&quot;&gt;
    &lt;h2 class=&quot;title&quot;&gt;经典老歌&lt;/h2&gt;
    &lt;p class=&quot;introduction&quot;&gt;
        经典老歌列表
    &lt;/p&gt;
    &lt;ul id=&quot;list&quot; class=&quot;list-group&quot;&gt;
        &lt;li data-view=&quot;2&quot;&gt;一路上有你&lt;/li&gt;
        &lt;li data-view=&quot;7&quot;&gt;
            &lt;a href=&quot;/2.mp3&quot; singer=&quot;任贤齐&quot;&gt;沧海一声笑&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;4&quot; class=&quot;active&quot;&gt;
            &lt;a href=&quot;/3.mp3&quot; singer=&quot;齐秦&quot;&gt;往事随风&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;6&quot;&gt;&lt;a href=&quot;/4.mp3&quot; singer=&quot;beyond&quot;&gt;光辉岁月&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;&lt;a href=&quot;/5.mp3&quot; singer=&quot;陈慧琳&quot;&gt;记事本&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;
            &lt;a href=&quot;/6.mp3&quot; singer=&quot;邓丽君&quot;&gt;但愿人长久&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;&apos;&apos;&apos;

res = re.findall(&apos;&lt;li.*?&gt;\s*?(&lt;a.*?&gt;)?(\w+)(&lt;/a&gt;)?\s*?&lt;/li&gt;&apos;,html,re.S)
for i in res:
    print(i[0],i[1],i[2])
</code></pre><p><strong>运行结果：</strong></p>
<pre><code> 一路上有你 
&lt;a href=&quot;/2.mp3&quot; singer=&quot;任贤齐&quot;&gt; 沧海一声笑 &lt;/a&gt;
&lt;a href=&quot;/3.mp3&quot; singer=&quot;齐秦&quot;&gt; 往事随风 &lt;/a&gt;
&lt;a href=&quot;/4.mp3&quot; singer=&quot;beyond&quot;&gt; 光辉岁月 &lt;/a&gt;
&lt;a href=&quot;/5.mp3&quot; singer=&quot;陈慧琳&quot;&gt; 记事本 &lt;/a&gt;
&lt;a href=&quot;/6.mp3&quot; singer=&quot;邓丽君&quot;&gt; 但愿人长久 &lt;/a&gt;
</code></pre><h3 id="6-re-sub"><a href="#6-re-sub" class="headerlink" title="6.re.sub"></a><strong>6.re.sub</strong></h3><p>该方法的作用是替换字符串中每一个匹配的子串后返回替换后的字符串</p>
<p><strong>实例代码一：</strong></p>
<pre><code>import re

content = &apos;Extra stings Hello 1234567 World_This is a Regex Demo Extra stings&apos;
res = re.sub(&apos;\d+&apos;,&apos;K0rz3n&apos;,content)
print(res)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>Extra stings Hello K0rz3n World_This is a Regex Demo Extra stings
</code></pre><p>有时候我们替换的时候需要保留原始字符串，这个时候我们就要使用正则表达式的后向引用技术</p>
<p><strong>实例代码二：</strong></p>
<pre><code>import re

content = &apos;Extra stings Hello 1234567 World_This is a Regex Demo Extra stings&apos;
content = re.sub(&apos;(\d+)&apos;, &apos;\\1 8910&apos;, content)
print(content)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>Extra stings Hello 1234567 890 World_This is a Regex Demo Extra stings
</code></pre><h3 id="7-re-compile"><a href="#7-re-compile" class="headerlink" title="7.re.compile"></a><strong>7.re.compile</strong></h3><p>该方法可以将正则表达式转换成正则表达式对象，方便我们后期的复用</p>
<p><strong>实例代码：</strong></p>
<pre><code>import re

content = &apos;&apos;&apos;Hello 1234567 World_This
is a Regex Demo&apos;&apos;&apos;
pattern = re.compile(&apos;Hello.*Demo&apos;, re.S)
res = re.match(pattern, content)
print(res.group(0))
</code></pre><h3 id="8-实战练习爬取豆瓣读书"><a href="#8-实战练习爬取豆瓣读书" class="headerlink" title="8.实战练习爬取豆瓣读书"></a><strong>8.实战练习爬取豆瓣读书</strong></h3><pre><code>import requests
import re
content = requests.get(&apos;http://book.douban.com/&apos;).text
pattern = re.compile(&apos;&lt;li.*?cover.*?href=&quot;(.*?)&quot;.*?title=&quot;(.*?)&quot;.*?more-meta.*?author&quot;&gt;(.*?)&lt;/span&gt;.*?year&quot;&gt;(.*?)&lt;/span&gt;.*?&lt;/li&gt;&apos;, re.S)
results = re.findall(pattern, content)
for result in results:
    url, name, author, date = result
    author = re.sub(&apos;\s&apos;, &apos;&apos;, author)
    date = re.sub(&apos;\s&apos;, &apos;&apos;, date)
    print(url, name, author, date)
</code></pre><h2 id="0X06-BeautifulSoup"><a href="#0X06-BeautifulSoup" class="headerlink" title="0X06 BeautifulSoup"></a><strong>0X06 BeautifulSoup</strong></h2><h3 id="1-什么是-BeautifulSoup"><a href="#1-什么是-BeautifulSoup" class="headerlink" title="1.什么是 BeautifulSoup"></a><strong>1.什么是 BeautifulSoup</strong></h3><p>这是一个方便的网页解析库，不用编写正则就是实现网页信息的提取</p>
<h3 id="2-常见的配合使用的解析库"><a href="#2-常见的配合使用的解析库" class="headerlink" title="2.常见的配合使用的解析库"></a><strong>2.常见的配合使用的解析库</strong></h3><p><img src="https://picture-1253331270.cos.ap-beijing.myqcloud.com/%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%802.png" alt="此处输入图片的描述"></p>
<h3 id="3-基本使用"><a href="#3-基本使用" class="headerlink" title="3.基本使用"></a><strong>3.基本使用</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
print(soup.prettify())
print(soup.title.string)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;
   The Dormouse&apos;s story
  &lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;
   &lt;b&gt;
    The Dormouse&apos;s story
   &lt;/b&gt;
  &lt;/p&gt;
  &lt;p class=&quot;story&quot;&gt;
   Once upon a time there were three little sisters; and their names were
   &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;
    &lt;!-- Elsie --&gt;
   &lt;/a&gt;
   ,
   &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;
    Lacie
   &lt;/a&gt;
   and
   &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;
    Tillie
   &lt;/a&gt;
   ;
and they lived at the bottom of a well.
  &lt;/p&gt;
  &lt;p class=&quot;story&quot;&gt;
   ...
  &lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;
The Dormouse&apos;s story
</code></pre><h3 id="4-标签选择器"><a href="#4-标签选择器" class="headerlink" title="4.标签选择器"></a><strong>4.标签选择器</strong></h3><h4 id="1-选择元素"><a href="#1-选择元素" class="headerlink" title="(1)选择元素"></a><strong>(1)选择元素</strong></h4><p>使用soup.(点)属性标签的方式来进行选择，如果有多个符合的话只能返回第一个匹配的标签</p>
<p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
print(soup.head)
print(soup.title)
print(soup.p)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
</code></pre><h4 id="2-获取属性"><a href="#2-获取属性" class="headerlink" title="(2)获取属性"></a><strong>(2)获取属性</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.p.attrs[&apos;name&apos;])
print(soup.p[&apos;name&apos;])
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>dromouse
dromouse
</code></pre><h4 id="3-获取内容"><a href="#3-获取内容" class="headerlink" title="(3)获取内容"></a><strong>(3)获取内容</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p clss=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.p.string)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>The Dormouse&apos;s story
</code></pre><h4 id="4-嵌套选择"><a href="#4-嵌套选择" class="headerlink" title="(4)嵌套选择"></a><strong>(4)嵌套选择</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse&apos;s story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.head.title.string)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>The Dormouse&apos;s story
</code></pre><h4 id="5-获取子孙节点"><a href="#5-获取子孙节点" class="headerlink" title="(5)获取子孙节点"></a><strong>(5)获取子孙节点</strong></h4><h5 id="1-contents"><a href="#1-contents" class="headerlink" title="1.contents"></a><strong>1.contents</strong></h5><p>这种方法是以列表形式返回标签的子节点</p>
<p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.p.contents)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&apos;\n            Once upon a time there were three little sisters; and their names were\n            &apos;, &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;
&lt;span&gt;Elsie&lt;/span&gt;
&lt;/a&gt;, &apos;\n&apos;, &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, &apos; \n            and\n            &apos;, &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;, &apos;\n            and they lived at the bottom of a well.\n        &apos;]
</code></pre><h5 id="2-children"><a href="#2-children" class="headerlink" title="2.children"></a><strong>2.children</strong></h5><p>这种方法返回的是一个子节点的迭代器形式</p>
<p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.p.children)
for i, child in enumerate(soup.p.children):
    print(i, child)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;list_iterator object at 0x1064f7dd8&gt;
0 
            Once upon a time there were three little sisters; and their names were

1 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;
&lt;span&gt;Elsie&lt;/span&gt;
&lt;/a&gt;
2 

3 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;
4  
            and

5 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
6 
            and they lived at the bottom of a well.
</code></pre><h5 id="3-descendants"><a href="#3-descendants" class="headerlink" title="3.descendants"></a><strong>3.descendants</strong></h5><p>返回子孙节点，其实和上面 children 的不同在于这个方法会再次强调一下孙子节点</p>
<p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.p.descendants)
for i, child in enumerate(soup.p.descendants):
    print(i, child)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;generator object descendants at 0x10650e678&gt;
0 
            Once upon a time there were three little sisters; and their names were

1 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;
&lt;span&gt;Elsie&lt;/span&gt;
&lt;/a&gt;
2 

3 &lt;span&gt;Elsie&lt;/span&gt;
4 Elsie
5 

6 

7 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;
8 Lacie
9  
            and

10 &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
11 Tillie
12 
            and they lived at the bottom of a well.
</code></pre><h4 id="6-父节点和祖先节点"><a href="#6-父节点和祖先节点" class="headerlink" title="(6)父节点和祖先节点"></a><strong>(6)父节点和祖先节点</strong></h4><h5 id="1-parent"><a href="#1-parent" class="headerlink" title="1.parent"></a><strong>1.parent</strong></h5><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.a.parent)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;p class=&quot;story&quot;&gt;
Once upon a time there were three little sisters; and their names were
&lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;
&lt;span&gt;Elsie&lt;/span&gt;
&lt;/a&gt;
&lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
and
&lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
&lt;/p&gt;
</code></pre><h5 id="2-parents"><a href="#2-parents" class="headerlink" title="2.parents"></a><strong>2.parents</strong></h5><p>以列表的形式输出所有的祖先节点</p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(list(enumerate(soup.a.parents)))
</code></pre><h4 id="7-兄弟节点"><a href="#7-兄弟节点" class="headerlink" title="(7)兄弟节点"></a><strong>(7)兄弟节点</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &quot;&quot;&quot;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;The Dormouse&apos;s story&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p class=&quot;story&quot;&gt;
            Once upon a time there were three little sisters; and their names were
            &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;
                &lt;span&gt;Elsie&lt;/span&gt;
            &lt;/a&gt;
            &lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; 
            and
            &lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;
            and they lived at the bottom of a well.
        &lt;/p&gt;
        &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(list(enumerate(soup.a.next_siblings)))
print(list(enumerate(soup.a.previous_siblings)))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[(0, &apos;\n&apos;), (1, &lt;a class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;), (2, &apos; \n            and\n            &apos;), (3, &lt;a class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;), (4, &apos;\n            and they lived at the bottom of a well.\n        &apos;)]
[(0, &apos;\n            Once upon a time there were three little sisters; and their names were\n            &apos;)]
</code></pre><h3 id="5-标准选择器"><a href="#5-标准选择器" class="headerlink" title="5.标准选择器"></a><strong>5.标准选择器</strong></h3><p>上面我们讲述的标签选择器虽然选择速度快，但是选择的内容也是比较笼统的，在现实中很难满足我们的需求，于是我们就需要更强大的选择器帮助我们去实现</p>
<pre><code>find_all( name , attrs , recursive , text , **kwargs )
</code></pre><p>可根据标签名、属性、内容查找文档</p>
<h4 id="1-name"><a href="#1-name" class="headerlink" title="(1) name"></a><strong>(1) name</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
soup.find_all(&apos;ul&apos;)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
 &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
 &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
 &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;, &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
 &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
 &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;]
</code></pre><p>如果我们还想获取更里面的标签，我们可以再次对获取到的 ul 标签使用 find_all()</p>
<p><strong>实例代码二：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
for i in soup.find_all(&apos;ul&apos;):
    print(i.find_all(&apos;li&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;]
[&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;]
</code></pre><h4 id="2-attrs"><a href="#2-attrs" class="headerlink" title="(2)attrs"></a><strong>(2)attrs</strong></h4><p>传入想要定位的属性键值对，就能成功定位</p>
<p><strong>实例代码一：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot; name=&quot;elements&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
print(soup.find_all(attrs={&apos;id&apos;:&apos;list-1&apos;}))
print(soup.find_all(attrs={&apos;name&apos;:&apos;elements&apos;}))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;ul class=&quot;list&quot; id=&quot;list-1&quot; name=&quot;elements&quot;&gt;
&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
&lt;/ul&gt;]
[&lt;ul class=&quot;list&quot; id=&quot;list-1&quot; name=&quot;elements&quot;&gt;
&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
&lt;/ul&gt;]
</code></pre><p>或者，如果 你觉得这种方式比较复杂的话我们还可以使用更加简单的直接使用等于号链接属性和值作为参数传入来定位</p>
<p><strong>实例代码二：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot; name=&quot;elements&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
print(soup.find_all(id = &apos;list-1&apos;))
print(soup.find_all(class_ = &apos;panel-heading&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;ul class=&quot;list&quot; id=&quot;list-1&quot; name=&quot;elements&quot;&gt;
&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
&lt;/ul&gt;]
[&lt;div class=&quot;panel-heading&quot;&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;]
</code></pre><blockquote>
<p><strong>注意：</strong></p>
<p>Class 是 python 中的关键字，因此我们在写属性的时候不能直接写 classs，否则会引起歧义，所以我们改成了 class_</p>
</blockquote>
<h4 id="3-text"><a href="#3-text" class="headerlink" title="(3)text"></a><strong>(3)text</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
print(soup.find_all(text=&apos;Foo&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&apos;Foo&apos;, &apos;Foo&apos;]
</code></pre><h4 id="4-其他"><a href="#4-其他" class="headerlink" title="(4)其他"></a><strong>(4)其他</strong></h4><p>find( name , attrs , recursive , text , **kwargs )<br>find_all() 返回所有元素，而find()返回单一元素</p>
<p>find_parents() find_parent()<br>find_parents()返回所有祖先节点，find_parent()返回直接父节点。</p>
<p>find_next_siblings() find_next_sibling()<br>find_next_siblings()返回后面所有兄弟节点，find_next_sibling()返回后面第一个兄弟节点。</p>
<p>find_previous_siblings() find_previous_sibling()<br>find_previous_siblings()返回前面所有兄弟节点，find_previous_sibling()返回前面第一个兄弟节点。</p>
<p>find_all_next() find_next()<br>find_all_next()返回节点后所有符合条件的节点, find_next()返回第一个符合条件的节点</p>
<p>find_all_previous() 和 find_previous()<br>find_all_previous()返回节点后所有符合条件的节点, find_previous()返回第一个符合条件的节点</p>
<h3 id="6-CSS选择器"><a href="#6-CSS选择器" class="headerlink" title="6.CSS选择器"></a><strong>6.CSS选择器</strong></h3><h4 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="(1)基本使用"></a><strong>(1)基本使用</strong></h4><p>通过select()直接传入CSS选择器即可完成选择</p>
<p><strong>实例代码一：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;

from bs4 import BeautifulSoup

soup = BeautifulSoup(html,&apos;lxml&apos;)
print(soup.select(&apos;.panel-heading&apos;))
print(soup.select(&apos;#list-1&apos;))
print(soup.select(&apos;li&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;div class=&quot;panel-heading&quot;&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;]
[&lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
&lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
&lt;/ul&gt;]
[&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;]
</code></pre><p><strong>实例代码二：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
for ul in soup.select(&apos;ul&apos;):
    print(ul.select(&apos;li&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;]
[&lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;, &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;]
</code></pre><h4 id="2-获取属性-1"><a href="#2-获取属性-1" class="headerlink" title="(2)获取属性"></a><strong>(2)获取属性</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
for ul in soup.select(&apos;ul&apos;):
    print(ul[&apos;id&apos;])
    print(ul.attrs[&apos;id&apos;])
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>list-1
list-1
list-2
list-2
</code></pre><h4 id="3-获取内容-1"><a href="#3-获取内容-1" class="headerlink" title="(3)获取内容"></a><strong>(3)获取内容</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html=&apos;&apos;&apos;
&lt;div class=&quot;panel&quot;&gt;
    &lt;div class=&quot;panel-heading&quot;&gt;
        &lt;h4&gt;Hello&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class=&quot;panel-body&quot;&gt;
        &lt;ul class=&quot;list&quot; id=&quot;list-1&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Jay&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class=&quot;list list-small&quot; id=&quot;list-2&quot;&gt;
            &lt;li class=&quot;element&quot;&gt;Foo&lt;/li&gt;
            &lt;li class=&quot;element&quot;&gt;Bar&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
&apos;&apos;&apos;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html, &apos;lxml&apos;)
for li in soup.select(&apos;li&apos;):
    print(li.get_text())
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>Foo
Bar
Jay
Foo
Bar
</code></pre><h2 id="0X07-PyQuery"><a href="#0X07-PyQuery" class="headerlink" title="0X07 PyQuery"></a><strong>0X07 PyQuery</strong></h2><p>PyQuery 是另一个比较强大的网页解析库，语法完全从 jQuery 迁移过来，所以对于熟悉 JQuery 的开发人员来说是非常好的选择</p>
<h3 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1.初始化"></a><strong>1.初始化</strong></h3><h4 id="1-字符串初始化"><a href="#1-字符串初始化" class="headerlink" title="(1)字符串初始化"></a><strong>(1)字符串初始化</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div&gt;
    &lt;ul&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq

doc = pq(html)
print(doc(&apos;li&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
&lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
</code></pre><h4 id="2-URL初始化"><a href="#2-URL初始化" class="headerlink" title="(2)URL初始化"></a><strong>(2)URL初始化</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>from pyquery import PyQuery as pq

doc = pq(url=&apos;http://www.baidu.com&apos;)
print(doc(&apos;head&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;head&gt;&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8&quot;/&gt;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge&quot;/&gt;&lt;meta content=&quot;always&quot; name=&quot;referrer&quot;/&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&quot;/&gt;&lt;title&gt;ç¾åº¦ä¸ä¸ï¼ä½ å°±ç¥é&lt;/title&gt;&lt;/head&gt;
</code></pre><h4 id="3-文件初始化"><a href="#3-文件初始化" class="headerlink" title="(3)文件初始化"></a><strong>(3)文件初始化</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>from pyquery import PyQuery as pq
doc = pq(filename=&apos;demo.html&apos;)
print(doc(&apos;li&apos;))
</code></pre><h3 id="2-基本CSS选择器"><a href="#2-基本CSS选择器" class="headerlink" title="2.基本CSS选择器"></a><strong>2.基本CSS选择器</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div id=&quot;container&quot;&gt;
    &lt;ul class=&quot;list&quot;&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
print(doc(&apos;#container .list li&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
&lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
</code></pre><h3 id="3-查找元素"><a href="#3-查找元素" class="headerlink" title="3.查找元素"></a><strong>3.查找元素</strong></h3><h4 id="1-子元素"><a href="#1-子元素" class="headerlink" title="(1)子元素"></a><strong>(1)子元素</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div id=&quot;container&quot;&gt;
    &lt;ul class=&quot;list&quot;&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
li = doc(&apos;.list&apos;).find(&apos;li&apos;)
print(li)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
&lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
&lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
</code></pre><p>当然，除了使用 find 方法以外，我们还能使用 children 方法</p>
<p><strong>实例代码二：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div id=&quot;container&quot;&gt;
    &lt;ul class=&quot;list&quot;&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
items = doc(&apos;.list&apos;)
lis = items.children(&apos;.active&apos;)
print(lis)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
</code></pre><h4 id="2-父元素"><a href="#2-父元素" class="headerlink" title="(2)父元素"></a><strong>(2)父元素</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div id=&quot;container&quot;&gt;
    &lt;ul class=&quot;list&quot;&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
items = doc(&apos;.list&apos;)
container = items.parent()
print(container)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;div id=&quot;container&quot;&gt;
    &lt;ul class=&quot;list&quot;&gt;
         &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
     &lt;/ul&gt;
 &lt;/div&gt;
</code></pre><p>使用 parent() 是返回直接父节点，但是使用 parents()能返回全部的父节点</p>
<p><strong>实例代码二：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
items = doc(&apos;.list&apos;)
parents = items.parents(&apos;.wrap&apos;)
print(parents)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
</code></pre><h4 id="3-兄弟节点"><a href="#3-兄弟节点" class="headerlink" title="(3)兄弟节点"></a><strong>(3)兄弟节点</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
li = doc(&apos;.list .item-0.active&apos;)
print(li.siblings(&apos;.active&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
</code></pre><h3 id="4-遍历"><a href="#4-遍历" class="headerlink" title="4.遍历"></a><strong>4.遍历</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
lis = doc(&apos;li&apos;).items()
for i in lis:
    print(i)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;

&lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
</code></pre><h3 id="5-获取信息"><a href="#5-获取信息" class="headerlink" title="5.获取信息"></a><strong>5.获取信息</strong></h3><h4 id="1-获取属性"><a href="#1-获取属性" class="headerlink" title="(1)获取属性"></a><strong>(1)获取属性</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
a = doc(&apos;.list .item-0.active a&apos;)
print(a.attr.href)
print(a.attr(&apos;href&apos;))
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>link3.html
link3.html
</code></pre><h4 id="2-获取文本"><a href="#2-获取文本" class="headerlink" title="(2)获取文本"></a><strong>(2)获取文本</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
a = doc(&apos;.item-0.active a&apos;)
print(a.text())
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>third item
</code></pre><h4 id="3-获取-HTML"><a href="#3-获取-HTML" class="headerlink" title="(3)获取 HTML"></a><strong>(3)获取 HTML</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
li = doc(&apos;.item-0.active&apos;)
print(li.html())
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;
</code></pre><h3 id="6-DOM操作"><a href="#6-DOM操作" class="headerlink" title="6.DOM操作"></a><strong>6.DOM操作</strong></h3><h4 id="1-addClass、removeClass"><a href="#1-addClass、removeClass" class="headerlink" title="(1)addClass、removeClass"></a><strong>(1)addClass、removeClass</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
li = doc(&apos;.item-0.active&apos;)
print(li)
li.removeClass(&apos;active&apos;)
print(li)
li.addClass(&apos;active&apos;)
print(li)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
</code></pre><h4 id="2-attr、css"><a href="#2-attr、css" class="headerlink" title="(2)attr、css"></a><strong>(2)attr、css</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;ul class=&quot;list&quot;&gt;
             &lt;li class=&quot;item-0&quot;&gt;first item&lt;/li&gt;
             &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-1 active&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;
             &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt;&lt;/li&gt;
         &lt;/ul&gt;
     &lt;/div&gt;
 &lt;/div&gt;
&apos;&apos;&apos;
from pyquery import PyQuery as pq
doc = pq(html)
li = doc(&apos;.item-0.active&apos;)
print(li)
li.attr(&apos;name&apos;,&apos;link&apos;)
print(li)
li.css(&apos;front-size&apos;,&apos;14px&apos;)
print(li)
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;li class=&quot;item-0 active&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0 active&quot; name=&quot;link&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;

&lt;li class=&quot;item-0 active&quot; name=&quot;link&quot; style=&quot;front-size: 14px&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;&lt;span class=&quot;bold&quot;&gt;third item&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
</code></pre><h4 id="3-remove"><a href="#3-remove" class="headerlink" title="(3)remove"></a><strong>(3)remove</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>html = &apos;&apos;&apos;
&lt;div class=&quot;wrap&quot;&gt;
    Hello, World
    &lt;p&gt;This is a paragraph.&lt;/p&gt;
 &lt;/div&gt;
&apos;&apos;&apos;

from pyquery import PyQuery as pq

doc = pq(html)
wrap = doc(&apos;.wrap&apos;)
print(wrap.text())
wrap.find(&apos;p&apos;).remove()
print(wrap.text())
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>Hello, World
This is a paragraph.
Hello, World
</code></pre><h4 id="4-其他-1"><a href="#4-其他-1" class="headerlink" title="(4)其他"></a><strong>(4)其他</strong></h4><p><a href="https://pyquery.readthedocs.io/en/latest/api.html" target="_blank" rel="noopener">https://pyquery.readthedocs.io/en/latest/api.html</a></p>
<h2 id="0X08-Selenium"><a href="#0X08-Selenium" class="headerlink" title="0X08 Selenium"></a><strong>0X08 Selenium</strong></h2><p>该函数库可以配合各种浏览器引擎以及 phantomJS 进行自动化测试工作，主要是为了解决 JS 动态渲染页面无法直接抓取的问题</p>
<h3 id="1-基本使用-1"><a href="#1-基本使用-1" class="headerlink" title="1.基本使用"></a><strong>1.基本使用</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.support.wait import WebDriverWait

browser = webdriver.Chrome()
try:
    browser.get(&apos;https://www.baidu.com&apos;)
    input = browser.find_element_by_id(&apos;kw&apos;)
    input.send_keys(&apos;Python&apos;)
    input.send_keys(Keys.ENTER)
    wait = WebDriverWait(browser, 10)
    wait.until(EC.presence_of_element_located((By.ID, &apos;content_left&apos;)))
    print(browser.current_url)
    print(browser.get_cookies())
    print(browser.page_source)
finally:
    browser.close()
</code></pre><h3 id="2-声明对象"><a href="#2-声明对象" class="headerlink" title="2.声明对象"></a><strong>2.声明对象</strong></h3><pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser = webdriver.Firefox()
browser = webdriver.Edge()
browser = webdriver.PhantomJS()
browser = webdriver.Safari()
</code></pre><h3 id="3-访问页面"><a href="#3-访问页面" class="headerlink" title="3.访问页面"></a><strong>3.访问页面</strong></h3><pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.get(&quot;https://www.baidu.com&quot;)
print(browser.page_source)
browser.close()
</code></pre><h3 id="4-查找元素"><a href="#4-查找元素" class="headerlink" title="4.查找元素"></a><strong>4.查找元素</strong></h3><h4 id="1-查找单个元素"><a href="#1-查找单个元素" class="headerlink" title="(1)查找单个元素"></a><strong>(1)查找单个元素</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.get(&apos;https://www.taobao.com&apos;)
input_first = browser.find_element_by_id(&apos;q&apos;)
input_second = browser.find_element_by_css_selector(&apos;#q&apos;)
input_third = browser.find_element_by_xpath(&apos;//*[@id=&quot;q&quot;]&apos;)
print(input_first, input_second, input_third)
browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;06448c4d710820390f33d87c3033a505&quot;, element=&quot;0.38405353494037175-1&quot;)&gt; &lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;06448c4d710820390f33d87c3033a505&quot;, element=&quot;0.38405353494037175-1&quot;)&gt; &lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;06448c4d710820390f33d87c3033a505&quot;, element=&quot;0.38405353494037175-1&quot;)&gt;
</code></pre><blockquote>
<p><strong>补充：</strong></p>
<p>除此之外还有一些查找元素的方法，如下</p>
<pre><code>find_element_by_name
find_element_by_xpath
find_element_by_link_text
find_element_by_partial_link_text
find_element_by_tag_name
find_element_by_class_name
find_element_by_css_selector
</code></pre></blockquote>
<p><strong>实例代码二：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By

browser = webdriver.Chrome()
browser.get(&apos;https://www.taobao.com&apos;)
input_first = browser.find_element(By.ID, &apos;q&apos;)
print(input_first)
browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;1f209c0d11551c40d9d20ad964fef244&quot;, element=&quot;0.07914603542731591-1&quot;)&gt;
</code></pre><h4 id="2-查找多个元素"><a href="#2-查找多个元素" class="headerlink" title="(2)查找多个元素"></a><strong>(2)查找多个元素</strong></h4><p><strong>实例代码一：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.get(&apos;https://www.taobao.com&apos;)
lis = browser.find_elements_by_css_selector(&apos;.service-bd li&apos;)
print(lis)
browser.close()
</code></pre><p><strong>实例代码二：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By

browser = webdriver.Chrome()
browser.get(&apos;https://www.taobao.com&apos;)
lis = browser.find_elements(By.CSS_SELECTOR, &apos;.service-bd li&apos;)
print(lis)
browser.close()
</code></pre><blockquote>
<p><strong>补充：</strong></p>
<p>除了上面的查找方法，查找多个元素还有下面的一些常见的方法：</p>
<p>find_elements_by_name find_elements_by_xpath<br>find_elements_by_link_text find_elements_by_partial_link_text<br>find_elements_by_tag_name find_elements_by_class_name<br>find_elements_by_css_selector</p>
</blockquote>
<h4 id="3-元素的交互操作"><a href="#3-元素的交互操作" class="headerlink" title="(3)元素的交互操作"></a><strong>(3)元素的交互操作</strong></h4><p>我们可以对获取的元素调用交互方法</p>
<p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
import time

browser = webdriver.Chrome()
browser.get(&quot;http://www.taobao.com&quot;)
input = browser.find_element_by_id(&apos;q&apos;)
input.send_keys(&apos;iphone&apos;)
time.sleep(1)
input.clear()
input.send_keys(&apos;ipad&apos;)
button = browser.find_element_by_class_name(&apos;btn-search&apos;)
button.click()
</code></pre><blockquote>
<p><strong>补充：</strong></p>
<p><strong>官方文档:</strong><br><a href="http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.remote.webelement" target="_blank" rel="noopener">http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.remote.webelement</a></p>
</blockquote>
<h4 id="4-交互动作"><a href="#4-交互动作" class="headerlink" title="(4)交互动作"></a><strong>(4)交互动作</strong></h4><p>将动作附加到动作链中串行执行，这是我们使用 selenium 去模拟键鼠操作的非常常用的东西</p>
<p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver import ActionChains

browser = webdriver.Chrome()
url = &apos;http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&apos;
browser.get(url)
browser.switch_to.frame(&apos;iframeResult&apos;)
source = browser.find_element_by_css_selector(&apos;#draggable&apos;)
target = browser.find_element_by_css_selector(&apos;#droppable&apos;)
actions = ActionChains(browser)
actions.drag_and_drop(source, target)
actions.perform()
</code></pre><blockquote>
<p><strong>补充：</strong></p>
<p><strong>官方文档:</strong><br><a href="http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.common.action_chains" target="_blank" rel="noopener">http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.common.action_chains</a></p>
<p><strong>ActionChains方法列表</strong><br>click(on_element=None) ——单击鼠标左键<br>click_and_hold(on_element=None) ——点击鼠标左键，不松开<br>context_click(on_element=None) ——点击鼠标右键<br>double_click(on_element=None) ——双击鼠标左键<br>drag_and_drop(source, target) ——拖拽到某个元素然后松开<br>drag_and_drop_by_offset(source, xoffset, yoffset) ——拖拽到某个坐标然后松开<br>key_down(value, element=None) ——按下某个键盘上的键<br>key_up(value, element=None) ——松开某个键<br>move_by_offset(xoffset, yoffset) ——鼠标从当前位置移动到某个坐标<br>move_to_element(to_element) ——鼠标移动到某个元素<br>move_to_element_with_offset(to_element, xoffset, yoffset)<br>——移动到距某个元素（左上角坐标）多少距离的位置<br>perform() ——执行链中的所有动作<br>release(on_element=None) ——在某个元素位置松开鼠标左键<br>send_keys(<em>keys_to_send) ——发送某个键到当前焦点的元素<br>send_keys_to_element(element, </em>keys_to_send) ——发送某个键到指定元素</p>
</blockquote>
<h4 id="5-执行JavaScript"><a href="#5-执行JavaScript" class="headerlink" title="(5)执行JavaScript"></a><strong>(5)执行JavaScript</strong></h4><p>当我们找不到现成的 api 的时候，我们可以使用 js 来帮助我们实现一些动作，比如进度条的拖拽等</p>
<p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.get(&apos;https://www.zhihu.com/explore&apos;)
browser.execute_script(&apos;window.scrollTo(0, document.body.scrollHeight)&apos;)
browser.execute_script(&apos;alert(&quot;To Bottom&quot;)&apos;)
browser.close()
</code></pre><h3 id="5-获取元素信息"><a href="#5-获取元素信息" class="headerlink" title="5.获取元素信息"></a><strong>5.获取元素信息</strong></h3><h4 id="1-获取属性-1"><a href="#1-获取属性-1" class="headerlink" title="(1)获取属性"></a><strong>(1)获取属性</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver import ActionChains

browser = webdriver.Chrome()
url = &apos;https://www.zhihu.com/explore&apos;
browser.get(url)
logo = browser.find_element_by_id(&apos;zh-top-link-logo&apos;)
print(logo)
print(logo.get_attribute(&apos;class&apos;))
browser.close()
</code></pre><h4 id="2-获取文本值"><a href="#2-获取文本值" class="headerlink" title="(2)获取文本值"></a><strong>(2)获取文本值</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
url = &apos;https://www.zhihu.com/explore&apos;
browser.get(url)
input = browser.find_element_by_class_name(&apos;zu-top-add-question&apos;)
print(input.text)
browser.close()
</code></pre><h4 id="3-获取ID、位置、标签名、大小"><a href="#3-获取ID、位置、标签名、大小" class="headerlink" title="(3)获取ID、位置、标签名、大小"></a><strong>(3)获取ID、位置、标签名、大小</strong></h4><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
url = &apos;https://www.zhihu.com/explore&apos;
browser.get(url)
input = browser.find_element_by_class_name(&apos;zu-top-add-question&apos;)
print(input.id)
print(input.location)
print(input.tag_name)
print(input.size)
browser.close()
</code></pre><h3 id="6-Frame-操作"><a href="#6-Frame-操作" class="headerlink" title="6.Frame 操作"></a><strong>6.Frame 操作</strong></h3><p>如果出现 frame 或者 iframe 我们必须要进入这个区域才能进行操作</p>
<p><strong>实例代码：</strong></p>
<pre><code>import time
from selenium import webdriver
from selenium.common.exceptions import NoSuchElementException

browser = webdriver.Chrome()
url = &apos;http://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&apos;
browser.get(url)
browser.switch_to.frame(&apos;iframeResult&apos;)
source = browser.find_element_by_css_selector(&apos;#draggable&apos;)
print(source)
try:
    logo = browser.find_element_by_class_name(&apos;logo&apos;)
except NoSuchElementException:
    print(&apos;NO LOGO&apos;)
finally:
    browser.close()
browser.switch_to.parent_frame()
logo = browser.find_element_by_class_name(&apos;logo&apos;)
print(logo)
print(logo.text)
</code></pre><h3 id="7-等待"><a href="#7-等待" class="headerlink" title="7.等待"></a><strong>7.等待</strong></h3><h4 id="1-隐式等待"><a href="#1-隐式等待" class="headerlink" title="(1)隐式等待"></a><strong>(1)隐式等待</strong></h4><p>这个方法是针对网页中的 ajax 请求设计的，当 webdriver 查找元素或元素并没有立即出现的时候(可能还需要后期的 ajax 请求)，隐式等待将等待一段时间再查找 DOM，默认的时间是0</p>
<p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.implicitly_wait(10)
browser.get(&apos;https://www.zhihu.com/explore&apos;)
input = browser.find_element_by_class_name(&apos;zu-top-add-question&apos;)
print(input)
browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;a607aed65e614d975de7a1273522ff3a&quot;, element=&quot;0.7555513559347986-1&quot;)&gt;
</code></pre><h4 id="2-显式等待"><a href="#2-显式等待" class="headerlink" title="(2)显式等待"></a><strong>(2)显式等待</strong></h4><p>显示等待会设置一个条件和一个最长等待时间，如果在这个最长等待时间内条件还是没有成立才会抛出异常</p>
<p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

browser = webdriver.Chrome()
browser.get(&apos;https://www.taobao.com/&apos;)
wait = WebDriverWait(browser, 10)
input = wait.until(EC.presence_of_element_located((By.ID, &apos;q&apos;)))
button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, &apos;.btn-search&apos;)))
print(input, button)
browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>&lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;c3730876d29127a08cdcdb54a664600f&quot;, element=&quot;0.37070383186598255-1&quot;)&gt; &lt;selenium.webdriver.remote.webelement.WebElement (session=&quot;c3730876d29127a08cdcdb54a664600f&quot;, element=&quot;0.37070383186598255-2&quot;)&gt;
</code></pre><blockquote>
<p><strong>补充：</strong></p>
</blockquote>
<p><strong>常见的判断条件：</strong></p>
<blockquote>
<p>title_is 标题是某内容<br>title_contains 标题包含某内容<br>presence_of_element_located 元素加载出，传入定位元组，如(By.ID, ‘p’)<br>visibility_of_element_located 元素可见，传入定位元组<br>visibility_of 可见，传入元素对象<br>presence_of_all_elements_located 所有元素加载出<br>text_to_be_present_in_element 某个元素文本包含某文字<br>text_to_be_present_in_element_value 某个元素值包含某文字<br>frame_to_be_available_and_switch_to_it frame加载并切换<br>invisibility_of_element_located 元素不可见<br>element_to_be_clickable 元素可点击<br>staleness_of 判断一个元素是否仍在DOM，可判断页面是否已经刷新<br>element_to_be_selected 元素可选择，传元素对象<br>element_located_to_be_selected 元素可选择，传入定位元组<br>element_selection_state_to_be 传入元素对象以及状态，相等返回True，否则返回False<br>element_located_selection_state_to_be 传入定位元组以及状态，相等返回True，否则返回False<br>alert_is_present 是否出现Alert</p>
<p><strong>官方文档：</strong><br><a href="http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.support.expected_conditions" target="_blank" rel="noopener">http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.support.expected_conditions</a></p>
</blockquote>
<h3 id="8-前进后退"><a href="#8-前进后退" class="headerlink" title="8.前进后退"></a><strong>8.前进后退</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver 

browser = webdriver.Chrome()
browser.get(&quot;http://www.baidu.com&quot;)
browser.get(&quot;http://www.taobao.com&quot;)
browser.get(&quot;http://www.zhihu.com&quot;)
browser.back()
browser.forward()
browser.close()
</code></pre><h3 id="9-Cookies"><a href="#9-Cookies" class="headerlink" title="9.Cookies"></a><strong>9.Cookies</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver

browser = webdriver.Chrome()
browser.get(&apos;http://www.baidu.com&apos;)
print(browser.get_cookies())
browser.add_cookie({&apos;name&apos;:&apos;Tom&apos;,&apos;pass&apos;:&apos;123456&apos;,&apos;value&apos;: &apos;germey&apos;})
print(browser.get_cookies())
browser.delete_all_cookies()
print(browser.get_cookies())
browser.close()
</code></pre><h3 id="10-选项卡操作"><a href="#10-选项卡操作" class="headerlink" title="10.选项卡操作"></a><strong>10.选项卡操作</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
import time

browser = webdriver.Chrome()
browser.get(&apos;http://www.baidu.com&apos;)
browser.execute_script(&apos;window.open()&apos;)
print(browser.window_handles)
browser.switch_to.window(browser.window_handles[1])
browser.get(&apos;http://www.taobao.com&apos;)
time.sleep(1)
browser.switch_to.window(browser.window_handles[0])
browser.get(&apos;http://httpbin.org&apos;)
browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>[&apos;CDwindow-3FCC47842DFF6841B4C86EE72CB7DB93&apos;, &apos;CDwindow-CCFA4494DE4B6C99494BE87524153E4E&apos;]
</code></pre><h3 id="11-异常处理"><a href="#11-异常处理" class="headerlink" title="11.异常处理"></a><strong>11.异常处理</strong></h3><p><strong>实例代码：</strong></p>
<pre><code>from selenium import webdriver
from selenium.common.exceptions import TimeoutException, NoSuchElementException

browser = webdriver.Chrome()
try:
    browser.get(&apos;https://www.baidu.com&apos;)
except TimeoutException:
    print(&apos;Time Out&apos;)
try:
    browser.find_element_by_id(&apos;hello&apos;)
except NoSuchElementException:
    print(&apos;No Element&apos;)
finally:
    browser.close()
</code></pre><p><strong>运行结果：</strong></p>
<pre><code>No Element
</code></pre><blockquote>
<p><strong>补充：</strong></p>
<p>官方文档：详细文档：<a href="http://selenium-python.readthedocs.io/api.html#module-selenium.common.exceptions" target="_blank" rel="noopener">http://selenium-python.readthedocs.io/api.html#module-selenium.common.exceptions</a></p>
</blockquote>
</div><div class="tags"><a href="/tags/爬虫/">爬虫</a></div><div class="post-nav"><a class="pre" href="/2019/05/07/python3 爬虫知识梳理(实战篇)/">Python3 爬虫知识梳理(实战篇)</a><a class="next" href="/2019/04/29/New Page ,New Future/">New Page,New Future</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://www.k0rz3n.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/APT/">APT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C&C</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/">CTF</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kerberos/">Kerberos</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/learning/">learning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web安全/">web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/wireshark/">wireshark</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/二进制/">二进制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/备忘/">备忘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/备忘-笔记/">备忘 笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习思考/">学习思考</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具使用/">工具使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发/">开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/渗透测试/">渗透测试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/漏洞分析/">漏洞分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/漏洞研究/">漏洞研究</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/环境搭建/">环境搭建</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/翻译/">翻译</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/论文/">论文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/笔记-协议分析/" style="font-size: 15px;">笔记 协议分析</a> <a href="/tags/APT/" style="font-size: 15px;">APT</a> <a href="/tags/备忘-反向代理-配置/" style="font-size: 15px;">备忘 反向代理 配置</a> <a href="/tags/开发-Github-备忘/" style="font-size: 15px;">开发 Github 备忘</a> <a href="/tags/Linux-渗透测试-备忘/" style="font-size: 15px;">Linux 渗透测试 备忘</a> <a href="/tags/配置-备忘/" style="font-size: 15px;">配置 备忘</a> <a href="/tags/二进制-栈溢出/" style="font-size: 15px;">二进制 栈溢出</a> <a href="/tags/笔记/" style="font-size: 15px;">笔记</a> <a href="/tags/网络安全-Google-Hacking-信息收集-渗透测试/" style="font-size: 15px;">网络安全 Google Hacking 信息收集 渗透测试</a> <a href="/tags/J2EE-基础/" style="font-size: 15px;">J2EE 基础</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a> <a href="/tags/编程-Python-进阶-备忘/" style="font-size: 15px;">编程 Python 进阶 备忘</a> <a href="/tags/网络安全-Python语法/" style="font-size: 15px;">网络安全 Python语法</a> <a href="/tags/gcc-备忘-笔记/" style="font-size: 15px;">gcc 备忘 笔记</a> <a href="/tags/learning/" style="font-size: 15px;">learning</a> <a href="/tags/Windows-FTP搭建-备忘/" style="font-size: 15px;">Windows FTP搭建 备忘</a> <a href="/tags/学习发现/" style="font-size: 15px;">学习发现</a> <a href="/tags/CTF-Tools/" style="font-size: 15px;">CTF Tools</a> <a href="/tags/CTF/" style="font-size: 15px;">CTF</a> <a href="/tags/kali/" style="font-size: 15px;">kali</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/php语法/" style="font-size: 15px;">php语法</a> <a href="/tags/渗透测试/" style="font-size: 15px;">渗透测试</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/编程/" style="font-size: 15px;">编程</a> <a href="/tags/Linux-备忘/" style="font-size: 15px;">Linux 备忘</a> <a href="/tags/备忘-shell-Linux/" style="font-size: 15px;">备忘 shell Linux</a> <a href="/tags/备忘/" style="font-size: 15px;">备忘</a> <a href="/tags/工具使用/" style="font-size: 15px;">工具使用</a> <a href="/tags/网络安全-渗透测试-内网代理/" style="font-size: 15px;">网络安全 渗透测试 内网代理</a> <a href="/tags/渗透测试-局域网扫描/" style="font-size: 15px;">渗透测试 局域网扫描</a> <a href="/tags/备忘-dcoker-getshell-CTF/" style="font-size: 15px;">备忘 dcoker getshell CTF</a> <a href="/tags/渗透测试-技巧/" style="font-size: 15px;">渗透测试 技巧</a> <a href="/tags/网络安全-渗透测试-sqlmap/" style="font-size: 15px;">网络安全 渗透测试 sqlmap</a> <a href="/tags/静态检测/" style="font-size: 15px;">静态检测</a> <a href="/tags/转载/" style="font-size: 15px;">转载</a> <a href="/tags/Fuzz-XSS/" style="font-size: 15px;">Fuzz XSS</a> <a href="/tags/工具-渗透测试/" style="font-size: 15px;">工具 渗透测试</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/web安全-漏洞-CTF/" style="font-size: 15px;">web安全  漏洞  CTF</a> <a href="/tags/PHP-备忘-笔记/" style="font-size: 15px;">PHP 备忘 笔记</a> <a href="/tags/渗透测试-windows-后门/" style="font-size: 15px;">渗透测试 windows 后门</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/web安全-CTF-渗透测试-PHP/" style="font-size: 15px;">web安全 CTF 渗透测试 PHP</a> <a href="/tags/CSP/" style="font-size: 15px;">CSP</a> <a href="/tags/Java-备忘-笔记/" style="font-size: 15px;">Java 备忘 笔记</a> <a href="/tags/域渗透/" style="font-size: 15px;">域渗透</a> <a href="/tags/JSONP/" style="font-size: 15px;">JSONP</a> <a href="/tags/编程-C-类库/" style="font-size: 15px;">编程 C++ 类库</a> <a href="/tags/java-备忘/" style="font-size: 15px;">java 备忘</a> <a href="/tags/web安全-CTF/" style="font-size: 15px;">web安全 CTF</a> <a href="/tags/CTF-writeup/" style="font-size: 15px;">CTF writeup</a> <a href="/tags/web安全-MySQL-渗透测试/" style="font-size: 15px;">web安全 MySQL 渗透测试</a> <a href="/tags/Redis-备忘/" style="font-size: 15px;">Redis 备忘</a> <a href="/tags/web安全-漏洞分析/" style="font-size: 15px;">web安全 漏洞分析</a> <a href="/tags/漏洞研究/" style="font-size: 15px;">漏洞研究</a> <a href="/tags/网络安全-钓鱼-恶意代码分析-漏洞分析/" style="font-size: 15px;">网络安全 钓鱼 恶意代码分析 漏洞分析</a> <a href="/tags/密码学-网络协议/" style="font-size: 15px;">密码学 网络协议</a> <a href="/tags/漏洞分析/" style="font-size: 15px;">漏洞分析</a> <a href="/tags/fuzz/" style="font-size: 15px;">fuzz</a> <a href="/tags/编程-PHP-基础/" style="font-size: 15px;">编程 PHP 基础</a> <a href="/tags/网络安全-沙盒逃逸-Python/" style="font-size: 15px;">网络安全 沙盒逃逸 Python</a> <a href="/tags/SQL-语法/" style="font-size: 15px;">SQL 语法</a> <a href="/tags/Fuzz/" style="font-size: 15px;">Fuzz</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/符号执行/" style="font-size: 15px;">符号执行</a> <a href="/tags/XSS/" style="font-size: 15px;">XSS</a> <a href="/tags/编程-JAVA-基础/" style="font-size: 15px;">编程 JAVA 基础</a> <a href="/tags/编程-PHP-进阶/" style="font-size: 15px;">编程 PHP 进阶</a> <a href="/tags/污点分析/" style="font-size: 15px;">污点分析</a> <a href="/tags/PHP-静态检测/" style="font-size: 15px;">PHP 静态检测</a> <a href="/tags/Windows-批处理-备忘/" style="font-size: 15px;">Windows 批处理 备忘</a> <a href="/tags/SQL-注入/" style="font-size: 15px;">SQL 注入</a> <a href="/tags/流量分析/" style="font-size: 15px;">流量分析</a> <a href="/tags/编程-C-基础/" style="font-size: 15px;">编程 C++ 基础</a> <a href="/tags/编程-进阶/" style="font-size: 15px;">编程 进阶</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/07/29/对一次 redis 未授权写入攻击的分析以及 redis 4.x RCE 学习/">对一次 redis 未授权写入攻击的分析以及 redis 4.x RCE 学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/27/reGeorg 工作流程分析(以 php 为例)/">reGeorg 工作流程分析(以 php 为例)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/13/CCProxy6.2 栈溢出分析/">CCProxy6.2 栈溢出分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/10/python3 爬虫知识梳理(框架篇)/">Python3 爬虫知识梳理(框架篇)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/07/python3 爬虫知识梳理(实战篇)/">Python3 爬虫知识梳理(实战篇)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/03/Python3 爬虫知识梳理(基础篇)/">Python3 爬虫知识梳理(基础篇)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/29/New Page ,New Future/">New Page,New Future</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/20/JAVA 泛型、动态代理技术要点梳理/">JAVA 泛型、动态代理技术要点梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/04/TCTF 2019 线上赛 web 题 writeup/">TCTF 2019 线上赛 web 题 writeup</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/23/2018 APT (Advanced Persistent Threat)攻击大事件/">2018 APT (Advanced Persistent Threat)攻击大事件</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="https://math1as.com/" title="math1as" target="_blank">math1as</a><ul></ul><a href="https://www.zsxsoft.com/" title="zsx" target="_blank">zsx</a><ul></ul><a href="https://www.lorexxar.cn/" title="Lorexxar" target="_blank">Lorexxar</a><ul></ul><a href="https://chybeta.github.io/" title="Chybeta" target="_blank">Chybeta</a><ul></ul><a href="http://www.cnblogs.com/iamstudy/" title="L3m0n" target="_blank">L3m0n</a><ul></ul><a href="http://www.pupiles.com" title="pupiles" target="_blank">pupiles</a><ul></ul><a href="http://f1sh.site/" title="f1sh" target="_blank">f1sh</a><ul></ul><a href="https://www.leavesongs.com/" title="phithon" target="_blank">phithon</a><ul></ul><a href="http://sh3ll.me/" title="Chu" target="_blank">Chu</a><ul></ul><a href="https://www.virzz.com/" title="Virink" target="_blank">Virink</a><ul></ul><a href="http://blog.cal1.cn/" title="超威蓝猫" target="_blank">超威蓝猫</a><ul></ul><a href="https://ricterz.me" title="RicterZ" target="_blank">RicterZ</a><ul></ul><a href="https://cyto.top/" title="Cytosine" target="_blank">Cytosine</a><ul></ul><a href="http://foreversong.cn/" title="ADog" target="_blank">ADog</a><ul></ul><a href="http://www.ckj123.com/" title="cjk123" target="_blank">cjk123</a><ul></ul><a href="http://arch0n.sumblog.cn" title="August" target="_blank">August</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">K0rz3n's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>